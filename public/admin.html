<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Админ-панель</title>
      <link rel="icon" type="image/png" href="/assets/icons/favicon/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/assets/icons/favicon/favicon.svg" />
<link rel="shortcut icon" href="/assets/icons/favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/favicon/apple-touch-icon.png" />
<link rel="manifest" href="/assets/icons/favicon/site.webmanifest" />
    <link rel="stylesheet" href="css/pages/admin.css">
    <!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=104163309', 'ym');

    ym(104163309, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/104163309" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
 <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8WGSW9TZS2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8WGSW9TZS2');
</script>
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>Админ-панель</h1>
            <button id="logout-btn" class="btn-danger">Выйти</button>
        </header>

        <nav class="admin-nav">
            <button class="nav-btn active" data-tab="products">Товары</button>
            <button class="nav-btn" data-tab="attractions">Аттракционы</button>
            <button class="nav-btn" data-tab="categories">Категории</button>
            <button class="nav-btn" data-tab="orders">Заказы</button>
            <button class="nav-btn" data-tab="supplier-catalog">Каталог для заказа</button>
        </nav>

        <main class="admin-main">
            <!-- Вкладка Товары -->
            <section id="products-tab" class="tab-content active">
                <div class="tab-header">
                    <h2>Управление товарами</h2>
                    <button id="add-product-btn" class="btn-primary">Добавить товар</button>
                </div>
                <div id="admin-products-grid" class="admin-grid">
                    <!-- Товары будут подгружаться сюда -->
                </div>
            </section>
            <!-- Новая вкладка Аттракционы -->
            <section id="attractions-tab" class="tab-content">
                <div class="tab-header">
                    <h2>Управление аттракционами</h2>
                    <button id="add-attraction-btn" class="btn-primary">Добавить аттракцион</button>
                </div>
                <div id="admin-attractions-grid" class="admin-grid">
                    <!-- Аттракционы будут подгружаться сюда -->
                    <div class="empty">Загрузка аттракционов...</div>
                </div>
            </section>

            <!-- Вкладка Категории -->
            <section id="categories-tab" class="tab-content">
                <div class="tab-header">
                    <h2>Управление категориями</h2>
                    <button id="add-category-btn" class="btn-primary">Добавить категорию</button>
                </div>
                <div id="categories-list" class="admin-list">
                    <!-- Категории будут подгружаться сюда -->
                </div>
            </section>

            <!-- Вкладка Заказы -->
            <section id="orders-tab" class="tab-content">
                <h2>Заказы</h2>
                <div id="orders-list" class="admin-list">
                    <!-- Заказы будут подгружаться сюда -->
                </div>
            </section>
            <section id="supplier-catalog-tab" class="tab-content">
        <div class="tab-header">
            <h2>Каталог для заказа у поставщика</h2>
            <div>
                <input type="text" id="supplier-catalog-search" placeholder="Поиск по названию или ссылке..." class="search-input">
            </div>
        </div>
        <div id="supplier-catalog-grid" class="admin-grid">
            <!-- Товары будут подгружаться сюда -->
            <div class="empty">Загрузка товаров...</div>
        </div>
    </section>
        </main>
    </div>

    <!-- Модальное окно для товара -->
<div id="product-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2 id="modal-title">Добавить товар</h2>
        <form id="product-form"> 
            <input type="hidden" id="product-id" name="product-id">
            
            <label for="product-title">Название:</label>
            <input type="text" id="product-title" name="product-title" required> 

            <label for="product-description">Описание:</label>
            <textarea id="product-description" name="product-description"></textarea> 

            <label for="product-price">Цена (руб.):</label>
            <input type="number" id="product-price" name="product-price" step="0.01" required> 

            <label for="product-supplier-link">Ссылка на поставщика:</label>
 <input type="text" id="product-supplier-link" name="product-supplier-link">

 <label for="product-supplier-notes">Примечание к ссылке:</label>
 <input type="text" id="product-supplier-notes" name="product-supplier-notes">

            <label for="product-category">Категория:</label>
            <select id="product-category" name="product-category" required> 
                <!-- Опции будут загружены динамически -->
            </select>

            <!-- Управление изображениями -->
            <div class="images-section">
                <h3>Изображения товара</h3>
                <div id="images-drop-zone" class="images-drop-zone">
                    <div id="images-container" class="images-grid">
                        <!-- Изображения будут добавлены сюда динамически -->
                    </div>
                    <div id="drop-hint" class="drop-hint">
                        <p>Перетащите изображения сюда или нажмите "Добавить изображение"</p>
                    </div>
                </div>
                <button type="button" id="add-image-btn" class="btn-secondary">Добавить изображение</button>
            </div>

            <label>
                <input type="checkbox" id="product-available" name="product-available" checked> Доступен
            </label>

            <!-- Новый раздел: Варианты товара -->
            <div class="variants-section">
                <h3>Варианты товара</h3>
                <p class="hint">Выберите товары, которые являются вариантами этого товара (например, разные цвета или объемы).</p>
                
                <!-- Список выбранных вариантов -->
                <div id="selected-variants-list" class="selected-variants-list">
                    <!-- Выбранные варианты будут отображаться здесь -->
                </div>

                <!-- Поле поиска для добавления вариантов -->
                <div class="variant-search-container">
                    <input type="text" id="variant-search" placeholder="Поиск товаров для добавления как варианты..." autocomplete="off">
                    <div id="variant-search-results" class="variant-search-results hidden">
                        <!-- Результаты поиска будут отображаться здесь -->
                    </div>
                </div>
                <!-- Скрытое поле для хранения ID выбранных вариантов -->
                <input type="hidden" id="selected-variant-ids" name="selected-variant-ids">
            </div>

            <div class="modal-actions">
                <button type="button" id="cancel-btn" class="btn-secondary">Отмена</button>
                <button type="submit" class="btn-primary">Сохранить</button>
            </div>
        </form>
    </div>
</div>
<!-- Модальное окно для аттракциона -->
<div id="attraction-modal" class="modal">
    <div class="modal-content">
        <span class="close-attraction-modal close">&times;</span>
        <h2 id="attraction-modal-title">Добавить аттракцион</h2>
        <form id="attraction-form">
            <input type="hidden" id="attraction-id" name="attraction-id">

            <label for="attraction-title">Название:</label>
            <input type="text" id="attraction-title" name="attraction-title" required>

            <label for="attraction-description">Описание:</label>
            <textarea id="attraction-description" name="attraction-description" required></textarea>

            <label for="attraction-price">Цена (руб.):</label>
            <input type="number" id="attraction-price" name="attraction-price" step="0.01" required>

            <label for="attraction-category">Категория:</label>
            <input type="text" id="attraction-category" name="attraction-category" list="attraction-categories" required>
            <datalist id="attraction-categories">
                <!-- Опции будут загружены динамически -->
            </datalist>

            

            <!-- Спецификации аттракциона -->
            <div class="specs-section">
                <h3>Спецификации</h3>

                <label for="attraction-specs-places">Мест:</label>
                <input type="text" id="attraction-specs-places" name="attraction-specs-places">

                <label for="attraction-specs-power">Мощность:</label>
                <input type="text" id="attraction-specs-power" name="attraction-specs-power">

                <label for="attraction-specs-games">Игры:</label>
                <input type="text" id="attraction-specs-games" name="attraction-specs-games">

                <label for="attraction-specs-area">Площадь:</label>
                <input type="text" id="attraction-specs-area" name="attraction-specs-area">

                <label for="attraction-specs-dimensions">Размеры:</label>
                <input type="text" id="attraction-specs-dimensions" name="attraction-specs-dimensions">
            </div>

            <!-- Управление изображениями -->
            <div class="images-section">
                <h3>Изображения товара</h3>
                <div id="images-drop-zone" class="images-drop-zone">
                    <div id="images-container" class="images-grid">
                        <!-- Изображения будут добавлены сюда динамически -->
                    </div>
                    <div id="drop-hint" class="drop-hint">
                        <p>Перетащите изображения сюда или нажмите "Добавить изображение"</p>
                    </div>
                </div>
                <button type="button" id="add-image-btn" class="btn-secondary">Добавить изображение</button>
            </div>

            <div class="modal-actions">
                <button type="button" id="cancel-attraction-btn" class="btn-secondary">Отмена</button>
                <button type="submit" class="btn-primary">Сохранить</button>
            </div>
        </form>
    </div>
</div>
    <!-- Модальное окно для категории -->
    <div id="category-modal" class="modal">
        <div class="modal-content">
            <span class="close-category-modal close">&times;</span>
            <h2>Добавить категорию</h2>
            <form id="category-form">
                <label for="category-name">Название категории:</label>
                <input type="text" id="category-name" required>
                <div class="modal-actions">
                    <button type="button" id="cancel-category-btn" class="btn-secondary">Отмена</button>
                    <button type="submit" class="btn-primary">Добавить</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/admin.js"></script>
</body>
</html>