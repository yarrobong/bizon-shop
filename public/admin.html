<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Админ-панель</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/assets/icons/favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/assets/icons/favicon/favicon.svg" />
  <link rel="shortcut icon" href="/assets/icons/favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/favicon/apple-touch-icon.png" />
  <link rel="manifest" href="/assets/icons/favicon/site.webmanifest" />

  <!-- Tailwind CSS + DaisyUI (без Heroicons!) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@latest/dist/full.min.css" rel="stylesheet" />
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {}
      }
    }
  </script>
</head>
<body class="bg-base-100 text-base-content min-h-screen">
  <div class="flex min-h-screen flex-col">
    <!-- Header -->
    <header class="bg-base-200 px-6 py-4 flex justify-between items-center shadow">
      <h1 class="text-xl font-bold">Админ-панель</h1>
      <button id="logout-btn" class="btn btn-error btn-sm">Выйти</button>
    </header>

    <!-- Navigation -->
    <nav class="bg-base-200 px-6 py-2 border-b border-base-300">
      <div class="flex flex-wrap gap-2">
        <button class="tab tab-lifted tab-active" data-tab="products">Товары</button>
        <button class="tab tab-lifted" data-tab="attractions">Аттракционы</button>
        <button class="tab tab-lifted" data-tab="categories">Категории</button>
        <button class="tab tab-lifted" data-tab="orders">Заказы</button>
        <button class="tab tab-lifted" data-tab="supplier-catalog">Каталог для заказа</button>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-1 p-6">
      <!-- Товары (по умолчанию активна) -->
      <section id="products-tab" class="tab-content">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-lg font-semibold">Управление товарами</h2>
          <button id="add-product-btn" class="btn btn-primary btn-sm">Добавить товар</button>
        </div>
        <div id="admin-products-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <div class="card bg-base-200 p-4 text-center">Пример товара 1</div>
          <div class="card bg-base-200 p-4 text-center">Пример товара 2</div>
        </div>
      </section>

      <!-- Аттракционы -->
      <section id="attractions-tab" class="tab-content hidden">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-lg font-semibold">Управление аттракционами</h2>
          <button id="add-attraction-btn" class="btn btn-primary btn-sm">Добавить аттракцион</button>
        </div>
        <div id="admin-attractions-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <div class="card bg-base-200 p-4 text-center">Аттракцион A</div>
        </div>
      </section>

      <!-- Категории -->
      <section id="categories-tab" class="tab-content hidden">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-lg font-semibold">Управление категориями</h2>
          <button id="add-category-btn" class="btn btn-primary btn-sm">Добавить категорию</button>
        </div>
        <div id="categories-list" class="space-y-2">
          <div class="card bg-base-200 p-3">VR-очки</div>
          <div class="card bg-base-200 p-3">Аксессуары</div>
        </div>
      </section>

      <!-- Заказы -->
      <section id="orders-tab" class="tab-content hidden">
        <h2 class="text-lg font-semibold mb-4">Заказы</h2>
        <div id="orders-list" class="space-y-3">
          <div class="card bg-base-200 p-3">Заказ #1001 — в обработке</div>
        </div>
      </section>

      <!-- Каталог поставщика -->
      <section id="supplier-catalog-tab" class="tab-content hidden">
        <div class="mb-4">
          <h2 class="text-lg font-semibold mb-2">Каталог для заказа у поставщика</h2>
          <input
            type="text"
            id="supplier-catalog-search"
            placeholder="Поиск по названию или ссылке..."
            class="input input-bordered w-full max-w-md"
          />
        </div>
        <div id="supplier-catalog-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <div class="card bg-base-200 p-4">Oculus Quest 3S — поставщик.ru/123</div>
        </div>
      </section>
    </main>
  </div>

  <!-- Пример модального окна (товар) -->
  <dialog id="product-modal" class="modal">
    <div class="modal-box">
      <h3 class="font-bold text-lg">Добавить товар</h3>
      <p class="py-4">Форма будет здесь. Пока демо.</p>
      <div class="modal-action">
        <form method="dialog">
          <button class="btn">Закрыть</button>
        </form>
      </div>
    </div>
  </dialog>

  <!-- Cookie Banner -->
  <div id="cookieConsent" class="fixed bottom-4 right-4 z-50 max-w-md">
    <div class="alert shadow-lg bg-base-200">
      <div class="flex-1">
        <p class="text-sm">
          Мы используем cookie. Продолжая, вы соглашаетесь с 
          <a href="/privacy" class="link link-primary" target="_blank">Политикой конфиденциальности</a>.
        </p>
      </div>
      <div class="flex gap-2">
        <button id="acceptCookies" class="btn btn-sm btn-primary">Принять</button>
        <button id="declineCookies" class="btn btn-sm">Отклонить</button>
      </div>
    </div>
  </div>

  <!-- Ваши скрипты (оставьте как есть) -->
  <script src="js/admin/admin-core.js"></script>
  <script src="js/admin/admin-products.js"></script>
  <script src="js/admin/admin-attractions.js"></script>
  <script src="js/admin/admin-categories.js"></script>
  <script src="js/admin/admin-orders.js"></script>
  <script src="js/admin/admin-supplier-catalog.js"></script>

  <!-- Логика переключения вкладок -->
  <script>
    document.querySelectorAll('[data-tab]').forEach(button => {
      button.addEventListener('click', () => {
        // Убираем активный класс у всех кнопок
        document.querySelectorAll('[data-tab]').forEach(btn => btn.classList.remove('tab-active'));
        // Добавляем активный текущей
        button.classList.add('tab-active');

        // Скрываем все секции
        document.querySelectorAll('.tab-content').forEach(section => {
          section.classList.add('hidden');
        });

        // Показываем нужную
        const tabId = button.dataset.tab + '-tab';
        const targetSection = document.getElementById(tabId);
        if (targetSection) {
          targetSection.classList.remove('hidden');
        }
      });
    });
  </script>

  <!-- Логика cookie banner -->
  <script>
    const cookieBanner = document.getElementById('cookieConsent');
    const acceptBtn = document.getElementById('acceptCookies');
    const declineBtn = document.getElementById('declineCookies');

    // Показываем, если нет согласия
    if (!localStorage.getItem('cookiesAccepted')) {
      cookieBanner.style.display = 'block';
    }

    acceptBtn?.addEventListener('click', () => {
      localStorage.setItem('cookiesAccepted', 'true');
      cookieBanner.style.display = 'none';
    });

    declineBtn?.addEventListener('click', () => {
      cookieBanner.style.display = 'none';
    });
  </script>
</body>
</html>