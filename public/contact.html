<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="BIZON — Свяжитесь с нами. Оставьте заявку на обратный звонок." />
  <title>Контакты — BIZON</title>
    <link rel="icon" type="image/png" href="/assets/icons/favicon/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/assets/icons/favicon/favicon.svg" />
<link rel="shortcut icon" href="/assets/icons/favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/favicon/apple-touch-icon.png" />
  <link rel="manifest" href="/assets/icons/favicon/site.webmanifest" />

  <!-- Глобальный обработчик ошибок для подавления ошибок от внешних скриптов -->
  <!-- Должен загружаться ПЕРВЫМ, до всех других скриптов и ресурсов -->
  <!-- Inline скрипт для немедленной инициализации -->
  <script>
    // Немедленная инициализация заглушки Ya
    if (typeof window.Ya === 'undefined') {
      window.Ya = { Metrika: { init: function() {}, reachGoal: function() {}, hit: function() {} }, Counter: function() { return { reachGoal: function() {}, hit: function() {} }; } };
    }
    // Немедленный перехват console.error
    (function() {
      var origError = console.error;
      console.error = function() {
        var msg = Array.prototype.slice.call(arguments).join(' ');
        var shouldSuppress = /Ya is not defined|Init stat_api|index\.\w+\.js.*error|fetchActivities.*JSON|SyntaxError.*Failed to execute.*json|Unexpected end of JSON/i.test(msg);
        if (!shouldSuppress) {
          origError.apply(console, arguments);
        }
      };
    })();
    // Немедленный перехват unhandledrejection для ошибок JSON
    window.addEventListener('unhandledrejection', function(e) {
      var reason = e.reason;
      var msg = (reason && reason.message) || String(reason) || '';
      var stack = (reason && reason.stack) || '';
      if (/Unexpected end of JSON|Failed to execute.*json|fetchActivities|index\.\w+\.js/i.test(msg + ' ' + stack)) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      }
    });
    // Немедленный перехват глобальных ошибок
    window.addEventListener('error', function(e) {
      var msg = e.message || '';
      var source = e.filename || '';
      if (/index\.\w+\.js|fetchActivities|Unexpected end of JSON|Failed to execute.*json/i.test(msg + ' ' + source)) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      }
    }, true);
  </script>
  <script src="/js/error-handler.js"></script>

  <!-- Preconnect -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery.maskedinput@1.4.1/src/jquery.maskedinput.js" type="text/javascript"></script>

  <!-- Стили -->

  <link rel="stylesheet" href="/css/layout/header.css">
  <link rel="stylesheet" href="/css/components/background.css">
 
  <link rel="stylesheet" href="/css/pages/index.css">
  <link rel="stylesheet" href="/css/pages/contact.css">
  
  <!-- Alfa-Track -->
<link rel="dns-prefetch" href="//cloud.emailtracking.ru">
<link rel="preconnect" href="https://cloud.emailtracking.ru" crossorigin="">

<script>;(function(al,f,a,t,ra,c,k){
    window.alfatrack=window.alfatrack||{};window.alfatrack.token='Co3FRFhjX2';
    var loaded=false;var ver=(Date.now()/36e5|0);var mirrors=['https://cloud.emailtracking.ru/gtm/script.js','https://cloud.alfa-track.com/gtm/script.js'];
    function loadFrom(url){var s=document.createElement("script");s.src=url+"?ver="+ver;s.async=1;s.onload=s.onreadystatechange=function(){if(!loaded&&(!s.readyState||s.readyState==='complete')){loaded=true;console.log('at script is loaded by ',url);if(typeof alfatrack.initParameters==='function'){alfatrack.initParameters();}}else{s.remove();}};s.onerror=function(){console.warn("at loaded error by",url);};
        document.scripts[0].parentNode.insertBefore(s,document.scripts[0]);}for(var i=0;i<mirrors.length;i++){loadFrom(mirrors[i]);}
})()</script>
<!-- End Alfa-Track -->
  <style>
    

  </style>
 
</head>
<body>

  <!-- Фоновые пульсы -->
  <div class="bg-overlay" aria-hidden="true">
    <div class="pulse-1"></div>
    <div class="pulse-2"></div>
    <div class="pulse-3"></div>
  </div>

   <!-- Шапка -->
    <header class="header" role="banner">
        <a href="https://bizon-business.ru" class="logo">
            <div class="logo-icon">
                <img src="/assets/logo/logo-Photoroom.webp" alt="jkbbjb">
            </div>
            <div class="logo-title">BIZON</div>
        </a>

        <!-- Навигация для десктопа (скрывается на мобильных) -->
        <nav class="main-nav" id="mainNav" role="navigation" aria-label="Основная навигация">
  <ul class="nav-list">
    <li><a href="https://bizon-business.ru/" data-page="index">Главная</a></li>
<li><a href="https://bizon-business.ru/catalog" data-page="catalog">Каталог</a></li>
<li><a href="https://bizon-business.ru/attractions" data-page="attractions">VR Аттракционы</a></li>
<li><a href="https://bizon-business.ru/contact" data-page="contact">Контакты</a></li>
  </ul>
</nav>

        <!-- Корзина -->
        <button id="cart-btn" class="cart-btn" aria-label="Корзина">
    <img src="/assets/icons/cart-icon-mobile.svg" alt="Корзина" class="cart-icon-mobile" />
    <span class="cart-text-desktop">Корзина</span>
    <span id="cart-count" class="cart-count">0</span>
</button>

        <!-- Гамбургер меню - теперь в конце -->
        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </header>

    <!-- Оверлей размытия для гамбургер меню -->
    <div class="hamburger-overlay"></div>

  <main role="main">
    <div class="contact-layout">

      <!-- ЛЕВО: Форма -->
      <section class="contact-info">
        <!-- Форма -->
        <form id="callbackForm" class="callback-form" novalidate>
          <h3 class="form-title">Отправить заявку</h3>
          <p class="form-subtitle">Заполните форму, и наш специалист свяжется с вами в ближайшее время</p>
          
          <div class="form-group">
            <label for="name">Ваше имя</label>
            <input type="text" id="name" name="name" placeholder="Введите имя" maxlength="100">
          </div>

          <div class="form-group">
            <label for="phone">Ваш номер телефона*</label>
            <input type="tel" class="phone_mask" id="phone" placeholder="+7 (___) ___-__-__" required pattern="[\+]?[0-9\s\-\(\)]{10,}" minlength="10">
            <div class="error-message" id="phoneError"></div>
          </div>

          <div class="form-group">
            <label for="message">Сообщение (необязательно)</label>
            <textarea id="message" name="message" rows="4" placeholder="Опишите ваш вопрос или оставьте комментарий" maxlength="1000"></textarea>
          </div>

          <!-- Переключатель согласия -->
          <div class="consent-container">
            <div class="consent-toggle">
              <input type="checkbox" id="consent-toggle" class="consent-checkbox">
              <label for="consent-toggle" class="consent-slider"></label>
            </div>
            <p class="consent-text">
              Я даю согласие на обработку персональных данных.
              <a href="/privacy.html">Подробнее</a>
            </p>
          </div>

          <button type="submit" class="submit-btn" id="submitBtn" disabled>Отправить заявку</button>
        </form>
      </section>

      <!-- ПРАВО: Контактная информация -->
      <div class="contact-details">
        <div class="contact-details-header">
          <h3>Свяжитесь с нами</h3>
          <p class="contact-subtitle">Мы всегда готовы ответить на ваши вопросы и помочь выбрать оптимальное роботизированное решение для вашего бизнеса.</p>
        </div>

        <div class="contact-detail-item">
          <div class="contact-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
            </svg>
          </div>
          <div class="contact-detail-content">
            <h3>Телефон</h3>
            <a href="tel:+79324910482">+7 (932) 491-04-82</a>
          </div>
        </div>

        <div class="contact-detail-item">
          <div class="contact-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
          </div>
          <div class="contact-detail-content">
            <h3>Email</h3>
            <a href="mailto:info@bizon-business.ru">info@bizon-business.ru</a>
          </div>
        </div>

        <div class="contact-detail-item">
          <div class="contact-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
          </div>
          <div class="contact-detail-content">
            <h3>Время работы</h3>
            <p>Пн-Пт: 9:00 - 18:00<br>Сб-Вс: Выходной</p>
          </div>
        </div>

        <!-- Контакты с Telegram -->
        <div class="contact-links-below-image">
          <a href="https://t.me/bizon_order_manager" target="_blank" class="contact-link contact-link--below" rel="noopener">
            <svg width="800px" height="800px" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="16" cy="16" r="14" fill="url(#paint0_linear_87_7225)"/>
<path d="M22.9866 10.2088C23.1112 9.40332 22.3454 8.76755 21.6292 9.082L7.36482 15.3448C6.85123 15.5703 6.8888 16.3483 7.42147 16.5179L10.3631 17.4547C10.9246 17.6335 11.5325 17.541 12.0228 17.2023L18.655 12.6203C18.855 12.4821 19.073 12.7665 18.9021 12.9426L14.1281 17.8646C13.665 18.3421 13.7569 19.1512 14.314 19.5005L19.659 22.8523C20.2585 23.2282 21.0297 22.8506 21.1418 22.1261L22.9866 10.2088Z" fill="white"/>
<defs>
<linearGradient id="paint0_linear_87_7225" x1="16" y1="2" x2="16" y2="30" gradientUnits="userSpaceOnUse">
<stop stop-color="#37BBFE"/>
<stop offset="1" stop-color="#007DBB"/>
</linearGradient>
</defs>
</svg>
            Telegram
          </a>
        </div>
      </div>
    </div>

    <section class="clients">
  <h2>Поставляли оборудование таким клубам, как:</h2>

  <div class="clients-track">
    <div class="clients-track-inner">
      <img src="/assets/Partners/Another World.png" alt="Another World" class="client-logo">
      <img src="/assets/Partners/AVATAR ARENA.png" alt="AVATAR ARENA" class="client-logo">
      <img src="/assets/Partners/Metaforce.png" alt="Metaforce" class="client-logo">
      <img src="/assets/Partners/Warpoint.png" alt="Warpoint" class="client-logo">
      <img src="/assets/Partners/Another World.png" alt="Another World" class="client-logo">
      <img src="/assets/Partners/AVATAR ARENA.png" alt="AVATAR ARENA" class="client-logo">
      <img src="/assets/Partners/Metaforce.png" alt="Metaforce" class="client-logo">
      <img src="/assets/Partners/Warpoint.png" alt="Warpoint" class="client-logo">
      <img src="/assets/Partners/Another World.png" alt="Another World" class="client-logo">
      <img src="/assets/Partners/AVATAR ARENA.png" alt="AVATAR ARENA" class="client-logo">
      <img src="/assets/Partners/Metaforce.png" alt="Metaforce" class="client-logo">
      <img src="/assets/Partners/Warpoint.png" alt="Warpoint" class="client-logo">
      <img src="/assets/Partners/Another World.png" alt="Another World" class="client-logo">
      <img src="/assets/Partners/AVATAR ARENA.png" alt="AVATAR ARENA" class="client-logo">
      <img src="/assets/Partners/Metaforce.png" alt="Metaforce" class="client-logo">
      <img src="/assets/Partners/Warpoint.png" alt="Warpoint" class="client-logo">
      <img src="/assets/Partners/Another World.png" alt="Another World" class="client-logo">
      <img src="/assets/Partners/AVATAR ARENA.png" alt="AVATAR ARENA" class="client-logo">
      <img src="/assets/Partners/Metaforce.png" alt="Metaforce" class="client-logo">
      <img src="/assets/Partners/Warpoint.png" alt="Warpoint" class="client-logo">
      <img src="/assets/Partners/Another World.png" alt="Another World" class="client-logo">
      <img src="/assets/Partners/AVATAR ARENA.png" alt="AVATAR ARENA" class="client-logo">
      <img src="/assets/Partners/Metaforce.png" alt="Metaforce" class="client-logo">
      <img src="/assets/Partners/Warpoint.png" alt="Warpoint" class="client-logo">
      <img src="/assets/Partners/Another World.png" alt="Another World" class="client-logo">
      <img src="/assets/Partners/AVATAR ARENA.png" alt="AVATAR ARENA" class="client-logo">
      <img src="/assets/Partners/Metaforce.png" alt="Metaforce" class="client-logo">
      <img src="/assets/Partners/Warpoint.png" alt="Warpoint" class="client-logo">
      <img src="/assets/Partners/Another World.png" alt="Another World" class="client-logo">
      <img src="/assets/Partners/AVATAR ARENA.png" alt="AVATAR ARENA" class="client-logo">
      <img src="/assets/Partners/Metaforce.png" alt="Metaforce" class="client-logo">
      <img src="/assets/Partners/Warpoint.png" alt="Warpoint" class="client-logo">
    </div>
  </div>
</section>
  </main>

  <!-- Подвал -->
  <footer role="contentinfo">
    © <span id="year"></span> BIZON — Все права защищены<br>
    Поставка VR-оборудования для клубов под ключ
  </footer>

 <!-- Скрипты -->
  <script defer src="/js/utils.js"></script>
  <script defer src="/js/state.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <script>
  // Инициализация маски телефона
  $(document).ready(function(){
     $(".phone_mask").mask("+7 (999) 999-99-99");
     // Обновляем состояние кнопки после применения маски
     setTimeout(updateSubmitButton, 200);
  });

  // ==================== УПРАВЛЕНИЕ КНОПКОЙ ОТПРАВКИ ====================
  const consentCheckbox = document.getElementById('consent-toggle');
  const submitBtn = document.getElementById('submitBtn');
  const phoneInput = document.getElementById('phone');
  const phoneError = document.getElementById('phoneError');
  const form = document.getElementById('callbackForm');

  // Функция обновления состояния кнопки
  function updateSubmitButton() {
    const phone = phoneInput?.value || '';
    const phoneDigits = phone.replace(/\D/g, '');
    // Строгая валидация: ровно 11 цифр для полного российского номера (+7XXXXXXXXXX)
    const hasValidPhone = phoneDigits.length === 11;
    const hasConsent = consentCheckbox?.checked || false;

    if (submitBtn) {
      submitBtn.disabled = !(hasValidPhone && hasConsent);
    }
  }

  // Обновление кнопки при изменении полей
  if (consentCheckbox) {
    consentCheckbox.addEventListener('change', updateSubmitButton);
    consentCheckbox.addEventListener('click', updateSubmitButton);
  }
  if (phoneInput) {
    phoneInput.addEventListener('input', updateSubmitButton);
    phoneInput.addEventListener('blur', updateSubmitButton);
    phoneInput.addEventListener('keyup', updateSubmitButton);
    phoneInput.addEventListener('keydown', updateSubmitButton);
    phoneInput.addEventListener('change', updateSubmitButton);
  }

  // Также добавим обработчик для поля сообщения на всякий случай
  const messageInput = document.getElementById('message');
  if (messageInput) {
    messageInput.addEventListener('input', updateSubmitButton);
    messageInput.addEventListener('blur', updateSubmitButton);
    messageInput.addEventListener('focus', updateSubmitButton);
  }

  // Также проверяем всю форму целиком
  if (form) {
    form.addEventListener('input', updateSubmitButton);
    form.addEventListener('change', updateSubmitButton);
  }

  // Инициализация состояния кнопки
  updateSubmitButton();

  // Дополнительная проверка через короткий интервал
  setTimeout(updateSubmitButton, 500);
  setTimeout(updateSubmitButton, 1000);

  // ==================== ВАЛИДАЦИЯ И ОТПРАВКА ====================
  if (submitBtn) {
    let isSending = false;

    // Инициализация валидации в реальном времени
    if (phoneInput && typeof initRealtimeValidation === 'function') {
      initRealtimeValidation(phoneInput, {
        type: 'phone',
        required: true,
        label: 'Номер телефона'
      });
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Предотвращаем повторную отправку
      if (isSending) {
        console.log('Заявка уже отправляется...');
        return;
      }

      // Очищаем предыдущие ошибки
      if (typeof clearFieldError === 'function' && phoneInput) {
        clearFieldError(phoneInput);
      } else {
        phoneError.textContent = '';
        phoneInput.classList.remove('error');
      }

      // Валидация формы
      let isValid = true;

      // Проверка согласия
      if (!consentCheckbox.checked) {
        if (typeof showNotification === 'function') {
          showNotification('Необходимо дать согласие на обработку персональных данных', 'warning');
        } else {
          alert('Необходимо дать согласие на обработку персональных данных');
        }
        consentCheckbox.focus();
        return;
      }

      // Валидация телефона
      if (typeof validatePhone === 'function') {
        const phoneValidation = validatePhone(phoneInput.value);
        if (!phoneValidation.valid) {
          if (typeof showFieldError === 'function') {
            showFieldError(phoneInput, phoneValidation.message);
          } else {
            phoneError.textContent = phoneValidation.message;
            phoneInput.classList.add('error');
          }
          isValid = false;
        }
      } else {
        // Fallback валидация
        const phone = phoneInput.value;
        const phoneDigits = phone.replace(/\D/g, '');
        if (!phone || phoneDigits.length < 10) {
          const errorMsg = 'Введите номер телефона';
          if (typeof showFieldError === 'function') {
            showFieldError(phoneInput, errorMsg);
          } else {
            phoneError.textContent = errorMsg;
            phoneInput.classList.add('error');
          }
          isValid = false;
        } else if (!/^\+?\d{10,}$/.test(phoneDigits)) {
          const errorMsg = 'Проверьте формат номера';
          if (typeof showFieldError === 'function') {
            showFieldError(phoneInput, errorMsg);
          } else {
            phoneError.textContent = errorMsg;
            phoneInput.classList.add('error');
          }
          isValid = false;
        }
      }

      if (!isValid) {
        return;
      }

      const phone = phoneInput.value;
      const name = document.getElementById('name').value;
      const message = document.getElementById('message').value;

        try {
          isSending = true;
          submitBtn.disabled = true;
          submitBtn.innerHTML = '<span class="spinner"></span> Отправка...';

          // === ОТПРАВКА НА НОВЫЙ ENDPOINT ===
          // Получаем CSRF токен
          const csrfToken = typeof getCsrfToken === 'function' ? await getCsrfToken() : null;
          if (!csrfToken) {
            submitBtn.disabled = false;
            submitBtn.innerHTML = 'Отправить';
            isSending = false;
            alert('Не удалось получить CSRF токен. Пожалуйста, обновите страницу.');
            return;
          }
          
          const response = await fetch('/api/contact', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'X-CSRF-Token': csrfToken
            },
            body: JSON.stringify({
              name: name || 'Не указано', // Отправляем имя
              phone: phone, // Отправляем телефон
              message: message || '', // Отправляем сообщение (если есть)
              _csrf: csrfToken // CSRF токен в теле для совместимости
            })
          });

        // Используем безопасный парсинг JSON
        const result = typeof window.safeJsonParse === 'function' 
            ? await window.safeJsonParse(response, { defaultValue: { success: false, error: 'Ошибка обработки ответа' } })
            : await response.json().catch(() => ({ success: false, error: 'Ошибка обработки ответа' }));

        if (result.success) {
          // Успешная отправка
          
          // Отправка цели в Яндекс Метрику
          // Используем универсальный подход для максимальной надежности
          (function() {
            // Функция для отправки цели
            function sendGoal() {
              try {
                // Способ 1: Прямой вызов через глобальную ym (если библиотека загружена)
                if (typeof ym === 'function' && typeof ym.a === 'undefined') {
                  ym(104163309, 'reachGoal', 'contact_form_submit');
                  return true;
                }
                
                // Способ 2: Через window.ym (если библиотека загружена)
                if (typeof window.ym === 'function') {
                  if (typeof window.ym.a === 'undefined') {
                    window.ym(104163309, 'reachGoal', 'contact_form_submit');
                    return true;
                  } else if (Array.isArray(window.ym.a)) {
                    // Библиотека загружается, используем очередь
                    window.ym.a.push([104163309, 'reachGoal', 'contact_form_submit']);
                    // Также вызываем через функцию для надежности
                    try {
                      window.ym(104163309, 'reachGoal', 'contact_form_submit');
                    } catch (e) {
                      // Игнорируем ошибку, если очередь уже обработана
                    }
                    return true;
                  }
                }
                
                // Способ 3: Стандартная очередь (если библиотека еще не инициализирована)
                window.ym = window.ym || [];
                if (Array.isArray(window.ym)) {
                  window.ym.push(function() {
                    ym(104163309, 'reachGoal', 'contact_form_submit');
                  });
                  return true;
                }
                
                return false;
              } catch (e) {
                console.error('[Yandex Metrika] Ошибка отправки цели:', e);
                return false;
              }
            }
            
            // Пытаемся отправить цель
            sendGoal();
            
            // Дополнительная проверка через 1 секунду для надежности
            setTimeout(function() {
              try {
                if (typeof ym === 'function' && typeof ym.a === 'undefined') {
                  ym(104163309, 'reachGoal', 'contact_form_submit');
                }
              } catch (e) {
                // Игнорируем ошибки при повторной отправке
              }
            }, 1000);
          })();
          
          // Показать сообщение об успехе
          alert('Спасибо! Мы свяжемся с вами в ближайшее время.');
          
          // Сброс формы
          form.reset();
          phoneError.textContent = '';
          // Обновляем маску телефона после сброса
          if ($(".phone_mask").length) {
            $(".phone_mask").mask("+7 (999) 999-99-99");
          }
          updateSubmitButton(); // Обновляем состояние кнопки после сброса
          
          // Возврат кнопки в исходное состояние
          setTimeout(() => {
             submitBtn.disabled = false;
             submitBtn.innerHTML = 'Отправить заявку';
             isSending = false;
          }, 3000);
          
        } else {
          // Ошибка от сервера
          throw new Error(result.error || 'Ошибка сервера');
        }
      } catch (error) {
        console.error('Ошибка отправки заявки:', error);
        
        // Проверка на специфическую ошибку "уже обрабатывается"
        if (error.message && error.message.includes('Заявка уже обрабатывается')) {
            alert('Ваша заявка уже обрабатывается. Мы скоро с вами свяжемся.');
        } else {
            // Другая ошибка (сеть, сервер)
            alert('Не удалось отправить заявку. Пожалуйста, попробуйте позже или позвоните нам.');
        }
        
        // Возврат кнопки в исходное состояние
        submitBtn.disabled = false;
        submitBtn.innerHTML = 'Отправить заявку';
        isSending = false;
      }
    });
  }

  // Закрытие модальных окнов (если есть на странице)
  document.querySelectorAll('[data-close]').forEach(btn => {
    btn.addEventListener('click', () => {
      // Реализуйте логику закрытия модальных окон, если они используются на этой странице
      // Например: const modal = btn.closest('.modal'); if (modal) modal.classList.remove('open');
    });
  });
</script>
  <script defer src="/js/main.js"></script>

   <!-- Cookie Consent Banner -->
<div id="cookieConsent" class="cookie-consent-banner">
  <div class="cookie-consent-content">
    <div class="cookie-consent-text">
      <p>Продолжая использовать сайт, вы даёте согласие на использование файлов cookie в соответствии с нашей <a href="/privacy" target="_blank">Политикой конфиденциальности</a> и <a href="/cookie-policy" target="_blank">Политикой использования файлов cookie</a>.</p>
    </div>
    <div class="cookie-consent-buttons">
      <button id="acceptCookies" class="btn-primary">Ок</button>
      <button id="declineCookies" class="btn-secondary">Отклонить</button>
    </div>
  </div>
</div>
</body>
</html>