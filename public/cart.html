<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Корзина - BIZON</title>
  <link rel="icon" type="image/png" href="/assets/icons/favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/assets/icons/favicon/favicon.svg" />
  <link rel="shortcut icon" href="/assets/icons/favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/favicon/apple-touch-icon.png" />
  <link rel="manifest" href="/assets/icons/favicon/site.webmanifest" />

  <!-- Preconnect для шрифтов -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery.maskedinput@1.4.1/src/jquery.maskedinput.js" type="text/javascript"></script>

  <!-- Общие стили -->
  <link rel="stylesheet" href="css/layout/header.css">
  <link rel="stylesheet" href="css/components/background.css">
  <link rel="stylesheet" href="css/components/cart.css"> <!-- Стили для корзины -->

  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=104163309', 'ym');

    ym(104163309, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/104163309" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

 <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8WGSW9TZS2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-8WGSW9TZS2');
</script>
</head>
<body>

  <!-- Фоновая анимация -->
  <div class="bg-overlay" aria-hidden="true">
    <div class="pulse-1"></div>
    <div class="pulse-2"></div>
    <div class="pulse-3"></div>
    <div class="pulse-4"></div>
    <div class="pulse-5"></div>
    <div class="pulse-6"></div>
  </div>

  <!-- Шапка -->
  <header class="header" role="banner">
    <a href="https://bizon-business.ru" class="logo">
      <div class="logo-icon">
        <picture>
          <img src="/assets/logo/logo-Photoroom.webp" alt="BIZON">
        </picture>
      </div>
      <div class="logo-title">BIZON</div>
    </a>

    <nav class="main-nav" id="mainNav" role="navigation" aria-label="Основная навигация">
      <ul class="nav-list">
        <li><a href="https://bizon-business.ru/">Главная</a></li>
        <li><a href="https://bizon-business.ru/catalog">Каталог</a></li>
        <li><a href="https://bizon-business.ru/attractions">VR Аттракционы</a></li>
        <li><a href="https://bizon-business.ru/contact">Контакты</a></li>
      </ul>
    </nav>

    <div class="header-actions">
        <!-- Поиск — показываем только на catalog.html -->
        <div class="search" id="header-search" style="display: none;"> <!-- Скрыто на странице корзины -->
            <svg 
                class="search-icon" 
                aria-hidden="true" 
                focusable="false" 
                viewBox="0 0 24 24" 
                stroke="currentColor" 
                fill="none" 
                stroke-width="2"
            >
                <path 
                    stroke-linecap="round" 
                    stroke-linejoin="round" 
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" 
                />
            </svg>
            <input type="text" id="search-input" placeholder="Поиск по товарам..." />
        </div>

        <button id="cart-btn" class="cart-btn" aria-label="Корзина">
            Корзина
            <span id="cart-count" class="cart-count">0</span>
        </button>
    </div>

    <!-- Гамбургер меню -->
    <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </div>
  </header>

  <main role="main">
    <div class="cart-container">
      <h1>Ваша корзина</h1>

      <div id="cart-items" class="cart-items">
        <!-- Содержимое корзины будет отрисовано здесь -->
        <div class="empty">Ваша корзина пуста</div>
      </div>

      <div class="cart-footer">
        <div class="cart-total">
          <span>Итого:</span>
          <span id="cart-total-price">0 ₽</span>
        </div>
        <button id="clear-cart-btn" class="btn-secondary">Очистить корзину</button>
      </div>

      <div class="checkout-section">
        <h2>Оформление заказа</h2>
        <label for="phone">Ваш номер телефона*</label>
        <input type="text" class="phone_mask" id="phone" placeholder="+7 (___) ___-__-__" required>
        <div class="error-message" id="phoneError"></div>

        <label for="comment-input">Комментарий к заказу</label>
        <textarea id="comment-input" placeholder="Комментарий к заказу"></textarea>

        <div class="consent-container">
          <div class="consent-toggle">
            <input type="checkbox" id="consent-toggle" class="consent-checkbox">
            <label for="consent-toggle" class="consent-slider"></label>
          </div>
          <p class="consent-text">
            Я даю согласие на обработку персональных данных.
            <a href="/privacy.html">Подробнее</a>
          </p>
        </div>

        <button id="send-order" class="btn-primary">Оформить заказ</button>

        <div id="success-message" class="success-message" role="alert" aria-live="assertive" style="display: none;">
          ✅ Заказ оформлен! С вами свяжутся в ближайшее время.
        </div>
      </div>
    </div>
  </main>

  <!-- Подвал -->
  <footer role="contentinfo">
    © <span id="year"></span> BIZON — Все права защищены
  </footer>

  <!-- Скрипты -->
  <script defer src="js/utils.js"></script> <!-- Общие утилиты (formatPrice, getCart, addToCart, updateQuantity, clearCart, updateCartCount) -->
  <script defer src="js/cart.js"></script> <!-- Скрипт для страницы корзины -->

  <script>
    // Установка года
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

</body>
</html>