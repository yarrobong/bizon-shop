<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Система отслеживания заказов</title>
    <link rel="icon" type="image/png" href="/assets/icons/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/assets/icons/favicon/favicon.svg" />
    <link rel="shortcut icon" href="/assets/icons/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="/assets/icons/favicon/site.webmanifest" />
    <link rel="stylesheet" href="css/pages/admin.css">
    <link rel="stylesheet" href="css/pages/logistics.css">
</head>
<body>
    <div class="logistics-container">
        <header class="admin-header">
            <h1>Система отслеживания заказов</h1>
            <button id="logistics-logout-btn" class="btn-danger">Выйти</button>
        </header>

        <nav class="logistics-nav">
            <button class="logistics-tab-btn active" data-tab="orders">Заказы</button>
            <button class="logistics-tab-btn" data-tab="clients">Клиенты</button>
            <button class="logistics-tab-btn" data-tab="buyers">Баеры</button>
            <button class="logistics-tab-btn" data-tab="shipments">Партии</button>
            <button class="logistics-tab-btn" data-tab="distribution">Распределение</button>
            <button class="logistics-tab-btn" data-tab="payments">Платежи</button>
        </nav>

        <main class="logistics-main">
            <!-- Вкладка Заказы -->
            <section id="orders-tab" class="logistics-tab-content active">
                <div class="tab-header">
                    <h2>Заказы</h2>
                    <button id="add-order-btn" class="btn-primary">Добавить заказ</button>
                </div>
                <input type="text" id="orders-search" class="logistics-search" placeholder="Поиск по номеру заказа или клиенту...">
                <div class="logistics-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="total-orders">0</div>
                        <div class="stat-label">Всего заказов</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="active-orders">0</div>
                        <div class="stat-label">Активные заказы</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="pending-shipments">0</div>
                        <div class="stat-label">В ожидании доставки</div>
                    </div>
                </div>
                <div id="orders-grid" class="logistics-grid">
                    <!-- Заказы будут загружаться сюда -->
                    <div class="empty">Загрузка заказов...</div>
                </div>
            </section>

            <!-- Вкладка Клиенты -->
            <section id="clients-tab" class="logistics-tab-content">
                <div class="tab-header">
                    <h2>Клиенты</h2>
                    <button id="add-client-btn" class="btn-primary">Добавить клиента</button>
                </div>
                <input type="text" id="clients-search" class="logistics-search" placeholder="Поиск по имени или контакту...">
                <div id="clients-grid" class="logistics-grid">
                    <!-- Клиенты будут загружаться сюда -->
                    <div class="empty">Загрузка клиентов...</div>
                </div>
            </section>

            <!-- Вкладка Баеры -->
            <section id="buyers-tab" class="logistics-tab-content">
                <div class="tab-header">
                    <h2>Баеры</h2>
                    <button id="add-buyer-btn" class="btn-primary">Добавить баера</button>
                </div>
                <input type="text" id="buyers-search" class="logistics-search" placeholder="Поиск по имени или контакту...">
                <div id="buyers-grid" class="logistics-grid">
                    <!-- Баеры будут загружаться сюда -->
                    <div class="empty">Загрузка баеров...</div>
                </div>
            </section>

            <!-- Вкладка Партии -->
            <section id="shipments-tab" class="logistics-tab-content">
                <div class="tab-header">
                    <h2>Партии</h2>
                    <button id="add-shipment-btn" class="btn-primary">Добавить партию</button>
                </div>
                <input type="text" id="shipments-search" class="logistics-search" placeholder="Поиск по номеру или заказу...">
                <div id="shipments-grid" class="logistics-grid">
                    <!-- Партии будут загружаться сюда -->
                    <div class="empty">Загрузка партий...</div>
                </div>
            </section>

            <!-- Вкладка Распределение -->
            <section id="distribution-tab" class="logistics-tab-content">
                <div class="tab-header">
                    <h2>Распределение</h2>
                    <button id="add-distribution-btn" class="btn-primary">Добавить распределение</button>
                </div>
                <input type="text" id="distribution-search" class="logistics-search" placeholder="Поиск по адресу или клиенту...">
                <div id="distribution-grid" class="logistics-grid">
                    <!-- Распределение будет загружаться сюда -->
                    <div class="empty">Загрузка распределения...</div>
                </div>
            </section>

            <!-- Вкладка Платежи -->
            <section id="payments-tab" class="logistics-tab-content">
                <div class="tab-header">
                    <h2>Платежи</h2>
                    <button id="add-payment-btn" class="btn-primary">Добавить платеж</button>
                </div>
                <input type="text" id="payments-search" class="logistics-search" placeholder="Поиск по сумме или описанию...">
                <div id="payments-grid" class="logistics-grid">
                    <!-- Платежи будут загружаться сюда -->
                    <div class="empty">Загрузка платежей...</div>
                </div>
            </section>
        </main>
    </div>

    <!-- Модальное окно для заказа -->
    <div id="order-modal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close">&times;</span>
            <h2 id="order-modal-title">Добавить заказ</h2>
            <form id="order-form" class="logistics-form">
                <input type="hidden" id="order-id" name="order-id">
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="order-number">Номер заказа:</label>
                        <input type="text" id="order-number" name="order-number" required>
                    </div>
                    <div class="logistics-form-field">
                        <label for="buyer-order-number">Номер у баера:</label>
                        <input type="text" id="buyer-order-number" name="buyer-order-number">
                    </div>
                </div>
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="client-select">Клиент:</label>
                        <select id="client-select" name="client-select" required>
                            <option value="">Выберите клиента</option>
                        </select>
                    </div>
                    <div class="logistics-form-field">
                        <label for="buyer-select">Баер:</label>
                        <select id="buyer-select" name="buyer-select" required>
                            <option value="">Выберите баера</option>
                        </select>
                    </div>
                </div>
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="order-date">Дата заказа:</label>
                        <input type="date" id="order-date" name="order-date" required>
                    </div>
                    <div class="logistics-form-field">
                        <label for="order-status">Статус:</label>
                        <select id="order-status" name="order-status" required>
                            <option value="оформлен">Оформлен</option>
                            <option value="в пути">В пути</option>
                            <option value="частично получен">Частично получен</option>
                            <option value="закрыт">Закрыт</option>
                        </select>
                    </div>
                </div>
                <div class="logistics-form-field">
                    <label for="order-description">Описание:</label>
                    <textarea id="order-description" name="order-description"></textarea>
                </div>
                <div class="logistics-form-field">
                    <label for="order-comments">Комментарии:</label>
                    <textarea id="order-comments" name="order-comments"></textarea>
                </div>
                <div class="logistics-form-actions">
                    <button type="button" id="cancel-order-btn" class="btn-secondary">Отмена</button>
                    <button type="submit" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Модальное окно для клиента -->
    <div id="client-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="client-modal-title">Добавить клиента</h2>
            <form id="client-form" class="logistics-form">
                <input type="hidden" id="client-id" name="client-id">
                <div class="logistics-form-field">
                    <label for="client-name">Имя:</label>
                    <input type="text" id="client-name" name="client-name" required>
                </div>
                <div class="logistics-form-field">
                    <label for="client-contact">Контакт:</label>
                    <input type="text" id="client-contact" name="client-contact">
                </div>
                <div class="logistics-form-field">
                    <label for="client-address">Адрес:</label>
                    <textarea id="client-address" name="client-address"></textarea>
                </div>
                <div class="logistics-form-field">
                    <label for="client-notes">Примечания:</label>
                    <textarea id="client-notes" name="client-notes"></textarea>
                </div>
                <div class="logistics-form-actions">
                    <button type="button" id="cancel-client-btn" class="btn-secondary">Отмена</button>
                    <button type="submit" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Модальное окно для баера -->
    <div id="buyer-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="buyer-modal-title">Добавить баера</h2>
            <form id="buyer-form" class="logistics-form">
                <input type="hidden" id="buyer-id" name="buyer-id">
                <div class="logistics-form-field">
                    <label for="buyer-name">Имя:</label>
                    <input type="text" id="buyer-name" name="buyer-name" required>
                </div>
                <div class="logistics-form-field">
                    <label for="buyer-contact">Контакт:</label>
                    <input type="text" id="buyer-contact" name="buyer-contact">
                </div>
                <div class="logistics-form-field">
                    <label for="buyer-notes">Примечания:</label>
                    <textarea id="buyer-notes" name="buyer-notes"></textarea>
                </div>
                <div class="logistics-form-actions">
                    <button type="button" id="cancel-buyer-btn" class="btn-secondary">Отмена</button>
                    <button type="submit" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Модальное окно для партии -->
    <div id="shipment-modal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close">&times;</span>
            <h2 id="shipment-modal-title">Добавить партию</h2>
            <form id="shipment-form" class="logistics-form">
                <input type="hidden" id="shipment-id" name="shipment-id">
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="shipment-order">Заказ:</label>
                        <select id="shipment-order" name="shipment-order" required>
                            <option value="">Выберите заказ</option>
                        </select>
                    </div>
                    <div class="logistics-form-field">
                        <label for="shipment-number">Номер партии:</label>
                        <input type="text" id="shipment-number" name="shipment-number" placeholder="Например: 1/3">
                    </div>
                </div>
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="tracking-number">Трек-номер:</label>
                        <input type="text" id="tracking-number" name="tracking-number">
                    </div>
                    <div class="logistics-form-field">
                        <label for="departure-date">Дата отправки:</label>
                        <input type="date" id="departure-date" name="departure-date">
                    </div>
                </div>
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="arrival-date">Дата прибытия:</label>
                        <input type="date" id="arrival-date" name="arrival-date">
                    </div>
                    <div class="logistics-form-field">
                        <label for="shipment-status">Статус:</label>
                        <select id="shipment-status" name="shipment-status">
                            <option value="в пути">В пути</option>
                            <option value="получена">Получена</option>
                        </select>
                    </div>
                </div>
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="delivery-cost">Стоимость доставки:</label>
                        <input type="number" id="delivery-cost" name="delivery-cost" step="0.01">
                    </div>
                    <div class="logistics-form-field">
                        <label for="payment-status">Статус оплаты:</label>
                        <select id="payment-status" name="payment-status">
                            <option value="оплачено">Оплачено</option>
                            <option value="не оплачено">Не оплачено</option>
                            <option value="частично">Частично</option>
                        </select>
                    </div>
                </div>
                <div class="logistics-form-field">
                    <label for="shipment-comments">Комментарии:</label>
                    <textarea id="shipment-comments" name="shipment-comments"></textarea>
                </div>
                <div class="logistics-form-actions">
                    <button type="button" id="cancel-shipment-btn" class="btn-secondary">Отмена</button>
                    <button type="submit" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Модальное окно для распределения -->
    <div id="distribution-modal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close">&times;</span>
            <h2 id="distribution-modal-title">Добавить распределение</h2>
            <form id="distribution-form" class="logistics-form">
                <input type="hidden" id="distribution-id" name="distribution-id">
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="distribution-shipment">Партия:</label>
                        <select id="distribution-shipment" name="distribution-shipment" required>
                            <option value="">Выберите партию</option>
                        </select>
                    </div>
                    <div class="logistics-form-field">
                        <label for="distribution-client">Клиент:</label>
                        <select id="distribution-client" name="distribution-client" required>
                            <option value="">Выберите клиента</option>
                        </select>
                    </div>
                </div>
                <div class="logistics-form-field">
                    <label for="distribution-address">Адрес:</label>
                    <textarea id="distribution-address" name="distribution-address" required></textarea>
                </div>
                <div class="logistics-form-field">
                    <label for="item-description">Описание товара:</label>
                    <textarea id="item-description" name="item-description"></textarea>
                </div>
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="quantity">Количество:</label>
                        <input type="number" id="quantity" name="quantity" min="1">
                    </div>
                    <div class="logistics-form-field">
                        <label for="delivery-cost-rf">Стоимость доставки РФ:</label>
                        <input type="number" id="delivery-cost-rf" name="delivery-cost-rf" step="0.01">
                    </div>
                </div>
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="payment-status-rf">Статус оплаты:</label>
                        <select id="payment-status-rf" name="payment-status-rf">
                            <option value="оплачено">Оплачено</option>
                            <option value="не оплачено">Не оплачено</option>
                        </select>
                    </div>
                    <div class="logistics-form-field">
                        <label for="distribution-status">Статус:</label>
                        <select id="distribution-status" name="distribution-status">
                            <option value="отправлено">Отправлено</option>
                            <option value="получено">Получено</option>
                        </select>
                    </div>
                </div>
                <div class="logistics-form-actions">
                    <button type="button" id="cancel-distribution-btn" class="btn-secondary">Отмена</button>
                    <button type="submit" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Модальное окно для платежа -->
    <div id="payment-modal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close">&times;</span>
            <h2 id="payment-modal-title">Добавить платеж</h2>
            <form id="payment-form" class="logistics-form">
                <input type="hidden" id="payment-id" name="payment-id">
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="payment-order">Заказ:</label>
                        <select id="payment-order" name="payment-order">
                            <option value="">Выберите заказ</option>
                        </select>
                    </div>
                    <div class="logistics-form-field">
                        <label for="payment-shipment">Партия:</label>
                        <select id="payment-shipment" name="payment-shipment">
                            <option value="">Выберите партию</option>
                        </select>
                    </div>
                </div>
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="payment-distribution">Распределение:</label>
                        <select id="payment-distribution" name="payment-distribution">
                            <option value="">Выберите распределение</option>
                        </select>
                    </div>
                    <div class="logistics-form-field">
                        <label for="amount">Сумма:</label>
                        <input type="number" id="amount" name="amount" step="0.01" required>
                    </div>
                </div>
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="currency">Валюта:</label>
                        <select id="currency" name="currency">
                            <option value="RUB">RUB</option>
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                        </select>
                    </div>
                    <div class="logistics-form-field">
                        <label for="payment-date">Дата:</label>
                        <input type="date" id="payment-date" name="payment-date">
                    </div>
                </div>
                <div class="logistics-form-row">
                    <div class="logistics-form-field">
                        <label for="payment-type">Тип:</label>
                        <select id="payment-type" name="payment-type">
                            <option value="перевод">Перевод</option>
                            <option value="наличные">Наличные</option>
                            <option value="другое">Другое</option>
                        </select>
                    </div>
                    <div class="logistics-form-field">
                        <label for="direction">Направление:</label>
                        <select id="direction" name="direction">
                            <option value="входящий">Входящий</option>
                            <option value="исходящий">Исходящий</option>
                        </select>
                    </div>
                </div>
                <div class="logistics-form-field">
                    <label for="payment-notes">Примечания:</label>
                    <textarea id="payment-notes" name="payment-notes"></textarea>
                </div>
                <div class="logistics-form-actions">
                    <button type="button" id="cancel-payment-btn" class="btn-secondary">Отмена</button>
                    <button type="submit" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/logistics/logistics-core.js"></script>
    <script src="js/logistics/logistics-buyers.js"></script>
    <script src="js/logistics/logistics-clients.js"></script>
    <script src="js/logistics/logistics-distribution.js"></script>
    <script src="js/logistics/logistics-orders.js"></script>
    <script src="js/logistics/logistics-shipments.js"></script>
    <script src="js/logistics/logistics-payments.js"></script>

</body>
</html>