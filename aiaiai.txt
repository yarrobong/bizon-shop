// ui.js
// DOM-—ç–ª–µ–º–µ–Ω—Ç—ã
const productsContainer = document.getElementById('products');
const searchInput = document.getElementById('search-input');
const categoryButtons = document.querySelectorAll('.tag-btn');
const cartBtn = document.getElementById('cart-btn');
const cartModal = document.getElementById('cart-modal');
const productModal = document.getElementById('product-modal');
const cartItems = document.getElementById('cart-items');
const phoneInput = document.getElementById('phone-input');
const commentInput = document.getElementById('comment-input');
const sendOrderBtn = document.getElementById('send-order');
const successMessage = document.getElementById('success-message');
const yearSpan = document.getElementById('year');
let renderProductsTimeout;

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–æ–¥–∞
if (yearSpan) {
  yearSpan.textContent = new Date().getFullYear();
}

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤
// –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è renderProducts —Å debounce
async function renderProducts() {
  // –û—Ç–º–µ–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–∞—É—Ç
  if (renderProductsTimeout) {
    clearTimeout(renderProductsTimeout);
  }
  
  // –ó–∞–¥–µ—Ä–∂–∫–∞ 300ms –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
  renderProductsTimeout = setTimeout(async () => {
    try {
      const res = await fetch('/api/products');
      
      if (!res.ok) {
        throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã');
      }
      
      const PRODUCTS = await res.json();
      const query = (searchInput?.value || '').toLowerCase();

      const filtered = PRODUCTS.filter(p => {
        const available = p.available !== false;
        const categoryMatch = window.currentCategory === '–≤—Å–µ' || p.category === window.currentCategory;
        const searchMatch = query === '' ||
          p.title.toLowerCase().includes(query) ||
          p.description.toLowerCase().includes(query);
        
        return available && categoryMatch && searchMatch;
      });

      if (!productsContainer) {
        return;
      }

      productsContainer.innerHTML = '';

      if (filtered.length === 0) {
        productsContainer.innerHTML = `
          <div class="empty">
            <div class="text-6xl">üîç</div>
            <h3>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</p>
          </div>
        `;
        return;
      }

      filtered.forEach((product) => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <div class="product-content">
            <h3 class="product-title">${product.title}</h3>
            <div class="product-image">
              <img src="${product.images[0]?.url?.trim() || '/assets/placeholder.png'}" alt="${product.title}" />
              ${product.tag ? `<div class="product-badge" data-tag="${product.tag.toLowerCase()}">${product.tag}</div>` : ''}
            </div>
            <div class="product-footer">
              <div class="product-price">${formatPrice(product.price)}</div>
              <div class="product-actions">
                <button class="btn-details" data-id="${product.id}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                <button class="btn-cart" data-id="${product.id}">–í –∫–æ—Ä–∑–∏–Ω—É</button>
              </div>
            </div>
          </div>
        `;
        productsContainer.appendChild(card);
      });
      
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"
      document.querySelectorAll('.btn-details').forEach(button => {
        button.addEventListener('click', (event) => {
          const productId = parseInt(event.target.dataset.id);
          const product = PRODUCTS.find(p => p.id === productId);
          if (product) {
            openProductModal(product);
          }
        });
      });

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–í –∫–æ—Ä–∑–∏–Ω—É"
      document.querySelectorAll('.btn-cart').forEach(button => {
        button.addEventListener('click', (event) => {
          const productId = parseInt(event.target.dataset.id);
          const product = PRODUCTS.find(p => p.id === productId);
          if (product) {
            addToCart(product);
            updateCartCount();
          }
        });
      });
      
    } catch (err) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤:', err);
      if (productsContainer) {
        productsContainer.innerHTML = `
          <div class="empty">
            <div class="text-6xl">‚ö†Ô∏è</div>
            <h3>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h3>
            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</p>
          </div>
        `;
      }
    }
  }, 300); // 300ms –∑–∞–¥–µ—Ä–∂–∫–∞
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ç–æ–≤–∞—Ä–∞
function openProductModal(product) {
  document.getElementById('product-title').textContent = product.title;
  document.getElementById('product-description').textContent = product.description;
  document.getElementById('product-price').textContent = formatPrice(product.price);
  document.getElementById('product-main-image').src = product.images[0].url.trim();

  const thumbnails = document.getElementById('thumbnails');
  thumbnails.innerHTML = '';
  product.images.forEach(img => {
    const thumb = document.createElement('img');
    thumb.src = img.url.trim();
    thumb.alt = img.alt;
    thumb.className = 'thumbnail';
    if (img.url === product.images[0].url) thumb.classList.add('active');

    thumb.addEventListener('click', () => {
      document.getElementById('product-main-image').src = img.url.trim();
      document.querySelectorAll('.thumbnail').forEach(t => t.classList.remove('active'));
      thumb.classList.add('active');
    });

    thumbnails.appendChild(thumb);
  });

  window.currentProduct = product;
  productModal.classList.add('open');
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∫–æ—Ä–∑–∏–Ω—ã
function openCartModal() {
  if (cartItems) {
    const cart = getCart();
    if (cart.length === 0) {
      cartItems.innerHTML = '<div class="empty">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>';
    } else {
      cartItems.innerHTML = '';
      let total = 0;
      cart.forEach(item => {
        const row = document.createElement('div');
        row.className = 'cart-item';
        row.innerHTML = `
          <img src="${item.product.images[0].url.trim()}" alt="" />
          <div class="cart-item-info">
            <div class="cart-item-title">${item.product.title}</div>
            <div class="cart-item-price">${formatPrice(item.product.price)}</div>
            <div class="cart-quantity">
              <button class="qty-minus" data-id="${item.product.id}">‚àí</button>
              <span>${item.qty}</span>
              <button class="qty-plus" data-id="${item.product.id}">+</button>
            </div>
          </div>
          <div class="cart-item-total">${formatPrice(item.product.price * item.qty)}</div>
        `;
        cartItems.appendChild(row);
        total += item.product.price * item.qty;
      });

      const totalRow = document.createElement('div');
      totalRow.className = 'total-row';
      totalRow.innerHTML = `<span>–ò—Ç–æ–≥–æ:</span><span>${formatPrice(total)}</span>`;
      cartItems.appendChild(totalRow);

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
      document.querySelectorAll('.qty-minus').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = parseInt(btn.dataset.id);
          updateQuantity(id, -1);
          openCartModal();
        });
      });

      document.querySelectorAll('.qty-plus').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = parseInt(btn.dataset.id);
          updateQuantity(id, 1);
          openCartModal();
        });
      });
    }
  }

  updateSendOrderButton();
  cartModal.classList.add('open');
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–∫
function closeModals() {
  const modal = document.querySelector('.modal.open');
  if (modal) modal.classList.remove('open');
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–∫–∏ "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"
function updateSendOrderButton() {
  if (!sendOrderBtn) return;
  if (getCart().length === 0) {
    sendOrderBtn.disabled = true;
    sendOrderBtn.title = '–ù–µ–ª—å–∑—è –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ ‚Äî –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞';
  } else {
    sendOrderBtn.disabled = false;
    sendOrderBtn.title = '';
  }
}

// –ü—Ä–∏–≤—è–∑–∫–∞ —Å–æ–±—ã—Ç–∏–π
// ui.js - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è setupEventListeners()
// ui.js - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è setupEventListeners()
// ui.js - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è setupEventListeners
function setupEventListeners() {
  const searchInput = document.getElementById('search-input');

  if (searchInput) {
    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ø–æ–∏—Å–∫–∞
    searchInput.removeEventListener('input', renderProducts);
    searchInput.addEventListener('input', renderProducts);
  }

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–±
  const categoryButtons = document.querySelectorAll('.tag-btn');
  
  // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
  categoryButtons.forEach(btn => {
    btn.removeEventListener('click', handleCategoryClick);
  });
  
  // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
  categoryButtons.forEach(btn => {
    btn.addEventListener('click', handleCategoryClick);
  });

  // –û—Å—Ç–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π...
  if (cartBtn) {
    cartBtn.removeEventListener('click', openCartModal);
    cartBtn.addEventListener('click', openCartModal);
  }

  document.getElementById('add-to-cart-btn')?.addEventListener('click', () => addToCart(window.currentProduct));
  document.getElementById('buy-now-btn')?.addEventListener('click', () => {
    addToCart(window.currentProduct);
    closeModals();
    openCartModal();
  });

  phoneInput?.addEventListener('input', () => {
    phoneInput.value = phoneInput.value.replace(/[^0-9+]/g, '');
  });

  // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞ (–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å)
  if (sendOrderBtn) {
    let isSending = false;
    // ... –≤–∞—à –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞
  }

  document.querySelectorAll('[data-close]').forEach(btn => {
    btn.addEventListener('click', closeModals);
  });
}

// –û—Ç–¥–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
function handleCategoryClick(event) {
  const categoryButtons = document.querySelectorAll('.tag-btn');
  const clickedBtn = event.target;
  
  // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
  categoryButtons.forEach(btn => {
    btn.classList.remove('active');
  });
  
  // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–µ
  clickedBtn.classList.add('active');
  
  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
  window.currentCategory = clickedBtn.dataset.category || '–≤—Å–µ';
  
  // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã
  renderProducts();
}

// –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ main.js –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
// main.js
document.addEventListener('DOMContentLoaded', async () => {
  console.log('[DEBUG] DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è');
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  window.currentCategory = '–≤—Å–µ'; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
  
  // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
  setupEventListeners();
  
  // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–æ–≤–∞—Ä—ã
  await renderProducts();
});

// –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è renderProducts —Å —á–µ—Ç–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
// ui.js - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è renderProducts
async function renderProducts() {
  if (renderProductsTimeout) {
    clearTimeout(renderProductsTimeout);
  }
  
  renderProductsTimeout = setTimeout(async () => {
    try {
      const res = await fetch('/api/products');
      
      if (!res.ok) {
        throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã');
      }
      
      const PRODUCTS = await res.json();
      const query = (searchInput?.value || '').toLowerCase();
      
      // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
      const currentCategory = window.currentCategory || '–≤—Å–µ';

      const filtered = PRODUCTS.filter(p => {
        const available = p.available !== false;
        
        // –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        let categoryMatch = true;
        if (currentCategory !== '–≤—Å–µ') {
          // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
          const productCategory = p.category || '';
          categoryMatch = productCategory.toLowerCase() === currentCategory.toLowerCase();
        }
        
        // –§–∏–ª—å—Ç—Ä –ø–æ –ø–æ–∏—Å–∫—É
        const searchMatch = query === '' ||
          (p.title && p.title.toLowerCase().includes(query)) ||
          (p.description && p.description.toLowerCase().includes(query));
        
        return available && categoryMatch && searchMatch;
      });

      if (!productsContainer) {
        return;
      }

      productsContainer.innerHTML = '';

      if (filtered.length === 0) {
        productsContainer.innerHTML = `
          <div class="empty">
            <div class="text-6xl">üîç</div>
            <h3>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</p>
          </div>
        `;
        return;
      }

      filtered.forEach((product) => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <div class="product-content">
            <h3 class="product-title">${product.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</h3>
            <div class="product-image">
              <img src="${product.images && product.images[0]?.url?.trim() || '/assets/placeholder.png'}" alt="${product.title || '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞'}" />
              ${product.tag ? `<div class="product-badge" data-tag="${product.tag.toLowerCase()}">${product.tag}</div>` : ''}
            </div>
            <div class="product-footer">
              <div class="product-price">${formatPrice(product.price || 0)}</div>
              <div class="product-actions">
                <button class="btn-details" data-id="${product.id}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                <button class="btn-cart" data-id="${product.id}">–í –∫–æ—Ä–∑–∏–Ω—É</button>
              </div>
            </div>
          </div>
        `;
        productsContainer.appendChild(card);
      });
      
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫
      document.querySelectorAll('.btn-details').forEach(button => {
        button.addEventListener('click', (event) => {
          const productId = parseInt(event.target.dataset.id);
          const product = PRODUCTS.find(p => p.id === productId);
          if (product) {
            openProductModal(product);
          }
        });
      });

      document.querySelectorAll('.btn-cart').forEach(button => {
        button.addEventListener('click', (event) => {
          const productId = parseInt(event.target.dataset.id);
          const product = PRODUCTS.find(p => p.id === productId);
          if (product) {
            addToCart(product);
            updateCartCount();
          }
        });
      });
      
    } catch (err) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤:', err);
      if (productsContainer) {
        productsContainer.innerHTML = `
          <div class="empty">
            <div class="text-6xl">‚ö†Ô∏è</div>
            <h3>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h3>
            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</p>
          </div>
        `;
      }
    }
  }, 300);
}

// –í ui.js –Ω–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –µ—ë –Ω–∞ —ç—Ç—É:

if (sendOrderBtn) {
  let isSending = false; // –§–ª–∞–≥ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
  
  sendOrderBtn.addEventListener('click', async () => {
    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É
    if (isSending) {
      console.log('–ó–∞–∫–∞–∑ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è...');
      return;
    }
    
    if (!phoneInput.value.trim()) {
      alert('–£–∫–∞–∂–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω');
      return;
    }
    
    if (getCart().length === 0) {
      alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞');
      return;
    }

    try {
      isSending = true;
      sendOrderBtn.disabled = true;
      sendOrderBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';

      const response = await fetch('/api/order', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          phone: phoneInput.value,
          comment: commentInput.value,
          cart: getCart()
        })
      });

      const result = await response.json();
      console.log('–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:', result);

      if (result.success) {
        // –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
        clearCart();
        phoneInput.value = '';
        commentInput.value = '';
        successMessage.style.display = 'block';
        updateCartCount();
        openCartModal();

        setTimeout(() => {
          successMessage.style.display = 'none';
          sendOrderBtn.disabled = false;
          sendOrderBtn.textContent = '–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑';
          isSending = false;
        }, 3000);
      } else {
        // –û—à–∏–±–∫–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
        throw new Error(result.error || '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞');
      }
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞:', error);
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–∫–∞–∑ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω (–ø–æ —Å—Ç–∞—Ç—É—Å—É –æ—Ç–≤–µ—Ç–∞)
      if (error.message && error.message.includes('–ó–∞–∫–∞–∑ —É–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è')) {
        // –ó–∞–∫–∞–∑ —É–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
        clearCart();
        phoneInput.value = '';
        commentInput.value = '';
        successMessage.style.display = 'block';
        updateCartCount();
        openCartModal();

        setTimeout(() => {
          successMessage.style.display = 'none';
          sendOrderBtn.disabled = false;
          sendOrderBtn.textContent = '–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑';
          isSending = false;
        }, 3000);
      } else {
        // –î—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞
        alert('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–∑–≤–æ–Ω–∏—Ç–µ –Ω–∞–º.');
        sendOrderBtn.disabled = false;
        sendOrderBtn.textContent = '–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑';
        isSending = false;
      }
    }
  });
}

  document.querySelectorAll('[data-close]').forEach(btn => {
    btn.addEventListener('click', closeModals);
  });


// –≠–∫—Å–ø–æ—Ä—Ç
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { renderProducts, openProductModal, openCartModal, closeModals, setupEventListeners };
} else {
  window.renderProducts = renderProducts;
  window.openProductModal = openProductModal;
  window.openCartModal = openCartModal;
  window.closeModals = closeModals;
  window.setupEventListeners = setupEventListeners;
} <!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="BIZON ‚Äî –ü–æ—Å—Ç–∞–≤–∫–∞ VR-–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–ª—É–±–æ–≤ –ø–æ–¥ –∫–ª—é—á. –õ—É—á—à–∏–µ —Ü–µ–Ω—ã, –≥–∞—Ä–∞–Ω—Ç–∏—è, —É—Å—Ç–∞–Ω–æ–≤–∫–∞, –æ–±—É—á–µ–Ω–∏–µ." />
  <title>BIZON ‚Äî VR-–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–ª—É–±–æ–≤ –ø–æ–¥ –∫–ª—é—á</title>
  <link rel="icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <!-- Preconnect -->
  <link rel="preconnect" href="https://fonts.googleapis.com  ">
  <link rel="preconnect" href="https://fonts.gstatic.com  " crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@700;800&display=swap"
    rel="stylesheet">

  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="css/base/reset.css">
  <link rel="stylesheet" href="css/layout/header.css">
  <link rel="stylesheet" href="css/components/background.css">
  <link rel="stylesheet" href="css/layout/footer.css">
  <link rel="stylesheet" href="css/pages/index.css">
</head>

<body>

  <!-- –§–æ–Ω–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è -->
  <div class="bg-overlay" aria-hidden="true">
    <div class="pulse-1"></div>
    <div class="pulse-2"></div>
    <div class="pulse-3"></div>
  </div>

  <!-- –®–∞–ø–∫–∞ -->
  <header class="header" role="banner">
    <div class="logo">
      <div class="logo-icon">
        <img src="assets/logo/logo-Photoroom.png" alt="–õ–æ–≥–æ—Ç–∏–ø BIZON" width="75" height="75">
      </div>
      <div class="logo-title">BIZON</div>
    </div>

    <nav class="main-nav" role="navigation" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
      <ul class="nav-list">
        <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
        <li><a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a></li>
        <li><a href="about.html">–û –Ω–∞—Å</a></li>
        <li><a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
      </ul>
    </nav>


  </header>

  <main role="main">

    <!-- –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è -->
    <section class="hero">
      <div class="hero-content">
        <h1>–ü–æ—Å—Ç—Ä–æ–∏–º –≤–∞—à VR<br>–ø—Ä–æ—Å—Ç–æ –∏ –ø–æ–¥–∫–ª—é—á–∏–º</h1>
        <p class="hero-subtitle">
          BIZON ‚Äî –ø–æ—Å—Ç–∞–≤—â–∏–∫ VR-–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –±–∏–∑–Ω–µ—Å–∞, –∫–ª—É–±–æ–≤ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏.
          <strong>–ü–æ–º–æ–∂–µ–º –±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å VR-–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –æ—Ç –ø–æ–¥–±–æ—Ä–∞ –¥–æ –ø–æ–ª–Ω–æ–π
            –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏.</strong>
        </p>
        <div class="hero-buttons">
          <a href="catalog.html" class="btn-primary">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</a>
          <a href="contact.html" class="btn-secondary">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</a>
        </div>
        <div class="hero-trust">
          <div class="trust-item">–ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–µ—Ö–Ω–∏–∫—É, –∞ —Ä–µ—à–µ–Ω–∏–µ –≤–∞—à–∏—Ö –ø—Ä–æ–±–ª–µ–º</div>
          <div class="trust-item">–ì–∞—Ä–∞–Ω—Ç–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</div>
          <div class="trust-item">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏</div>
        </div>
      </div>
      <div class="hero-image">
        <img src="assets/index/Hero.webp" alt="VR-–∑–∞–ª –ø–æ–¥ –∫–ª—é—á –æ—Ç BIZON" loading="lazy">
      </div>
    </section>

    <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
    <section class="features">
      <h2>–ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–µ—Ö–Ω–∏–∫—É, –∞ —Ä–µ—à–µ–Ω–∏–µ –≤–∞—à–∏—Ö –ø—Ä–æ–±–ª–µ–º!</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M31.25 75C26.6667 75 22.7431 73.3681 19.4792 70.1042C16.2153 66.8403 14.5833 62.9167 14.5833 58.3333V41.3542C14.5833 37.8125 15.6944 34.7049 17.9167 32.0312C20.1389 29.3576 22.9861 27.7083 26.4583 27.0833C30.4167 26.3194 34.3403 25.7812 38.2292 25.4688C42.1181 25.1562 46.0417 25 50 25C53.9583 25 57.8993 25.1562 61.8229 25.4688C65.7465 25.7812 69.6528 26.3194 73.5417 27.0833C77.0139 27.7778 79.8611 29.4444 82.0833 32.0833C84.3056 34.7222 85.4167 37.8125 85.4167 41.3542V58.3333C85.4167 62.9167 83.7847 66.8403 80.5208 70.1042C77.257 73.3681 73.3333 75 68.75 75H64.5833C63.6806 75 62.7778 74.9479 61.875 74.8438C60.9722 74.7396 60.1042 74.5139 59.2708 74.1667L52.6042 71.875C51.7708 71.5278 50.9028 71.3542 50 71.3542C49.0972 71.3542 48.2292 71.5278 47.3958 71.875L40.7292 74.1667C39.8958 74.5139 39.0278 74.7396 38.125 74.8438C37.2222 74.9479 36.3195 75 35.4167 75H31.25ZM31.25 66.6667H35.4167C35.9028 66.6667 36.3715 66.6319 36.8229 66.5625C37.2743 66.4931 37.7083 66.3889 38.125 66.25C40.1389 65.625 42.1007 64.9653 44.0104 64.2708C45.9201 63.5764 47.9167 63.2292 50 63.2292C52.0833 63.2292 54.0972 63.559 56.0417 64.2188C57.9861 64.8785 59.9306 65.5556 61.875 66.25C62.2917 66.3889 62.7257 66.4931 63.1771 66.5625C63.6285 66.6319 64.0972 66.6667 64.5833 66.6667H68.75C71.0417 66.6667 73.0035 65.8507 74.6354 64.2188C76.2674 62.5868 77.0833 60.625 77.0833 58.3333V41.3542C77.0833 39.8264 76.5972 38.5069 75.625 37.3958C74.6528 36.2847 73.4375 35.5556 71.9792 35.2083C68.3681 34.4444 64.7396 33.941 61.0938 33.6979C57.4479 33.4549 53.75 33.3333 50 33.3333C46.25 33.3333 42.5695 33.4722 38.9583 33.75C35.3472 34.0278 31.7014 34.5139 28.0208 35.2083C26.5625 35.4861 25.3472 36.1979 24.375 37.3438C23.4028 38.4896 22.9167 39.8264 22.9167 41.3542V58.3333C22.9167 60.625 23.7326 62.5868 25.3646 64.2188C26.9965 65.8507 28.9583 66.6667 31.25 66.6667ZM4.16667 58.3333V41.6667H10.4167V58.3333H4.16667ZM89.5833 58.3333V41.6667H95.8333V58.3333H89.5833Z"
                fill="#59DEFA" />
            </svg>
          </div>
          <div class="feature-text">
            <h3>VR-–®–ª–µ–º–∞</h3>
            <p>Quest 3/3s, Pico 4 Ultra ‚Äî –≤—ã–±–æ—Ä –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ä–∞–∑–æ—á–∞—Ä—É–µ—Ç!</p>
          </div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M8.33333 83.3333L33.3333 50L8.33333 16.6666H62.5C63.8194 16.6666 65.0694 16.9618 66.25 17.552C67.4305 18.1423 68.4028 18.9583 69.1667 20L91.6667 50L91.1458 50.7291C89.2708 49.4791 87.2396 48.4548 85.0521 47.6562C82.8646 46.8576 80.5903 46.3194 78.2292 46.0416L62.5 25H25L43.75 50L25 75H45.8333C45.8333 76.4583 45.9375 77.8819 46.1458 79.2708C46.3542 80.6597 46.6667 82.0138 47.0833 83.3333H8.33333ZM71.9792 84.375L86.4583 70L82.0833 65.625L71.9792 75.5208L67.9167 71.4583L63.5417 75.9375L71.9792 84.375ZM75 95.8333C69.2361 95.8333 64.3229 93.802 60.2604 89.7395C56.1979 85.677 54.1667 80.7638 54.1667 75C54.1667 69.2361 56.1979 64.3229 60.2604 60.2604C64.3229 56.1979 69.2361 54.1666 75 54.1666C80.7639 54.1666 85.6771 56.1979 89.7396 60.2604C93.8021 64.3229 95.8333 69.2361 95.8333 75C95.8333 80.7638 93.8021 85.677 89.7396 89.7395C85.6771 93.802 80.7639 95.8333 75 95.8333Z"
                fill="#59DEFA" />
            </svg>
          </div>
          <div class="feature-text">
            <h3>–®–∏—Ä–æ–∫–∏–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç</h3>
            <p>–í—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è VR-–∫–ª—É–±–∞ ‚Äî –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ –¥–æ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–≥–æ!</p>
          </div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M45.8333 87.5V79.1667H79.1667V49.5833C79.1667 41.4583 76.3368 34.566 70.6771 28.9062C65.0174 23.2465 58.125 20.4167 50 20.4167C41.875 20.4167 34.9826 23.2465 29.3229 28.9062C23.6632 34.566 20.8333 41.4583 20.8333 49.5833V75H16.6667C14.375 75 12.4132 74.184 10.7812 72.5521C9.1493 70.9201 8.33333 68.9583 8.33333 66.6667V58.3333C8.33333 56.875 8.69791 55.5035 9.42708 54.2188C10.1562 52.934 11.1806 51.9097 12.5 51.1458L12.8125 45.625C13.3681 40.9028 14.7396 36.5278 16.9271 32.5C19.1146 28.4722 21.8576 24.9653 25.1562 21.9792C28.4549 18.9931 32.2396 16.6667 36.5104 15C40.7812 13.3333 45.2778 12.5 50 12.5C54.7222 12.5 59.2014 13.3333 63.4375 15C67.6736 16.6667 71.4583 18.9757 74.7917 21.9271C78.125 24.8785 80.8681 28.3681 83.0208 32.3958C85.1736 36.4236 86.5625 40.7986 87.1875 45.5208L87.5 50.9375C88.8194 51.5625 89.8438 52.5 90.5729 53.75C91.3021 55 91.6667 56.3194 91.6667 57.7083V67.2917C91.6667 68.6806 91.3021 70 90.5729 71.25C89.8438 72.5 88.8194 73.4375 87.5 74.0625V79.1667C87.5 81.4583 86.684 83.4201 85.0521 85.0521C83.4201 86.684 81.4583 87.5 79.1667 87.5H45.8333ZM37.5 58.3333C36.3194 58.3333 35.3299 57.934 34.5312 57.1354C33.7326 56.3368 33.3333 55.3472 33.3333 54.1667C33.3333 52.9861 33.7326 51.9965 34.5312 51.1979C35.3299 50.3993 36.3194 50 37.5 50C38.6806 50 39.6701 50.3993 40.4687 51.1979C41.2674 51.9965 41.6667 52.9861 41.6667 54.1667C41.6667 55.3472 41.2674 56.3368 40.4687 57.1354C39.6701 57.934 38.6806 58.3333 37.5 58.3333ZM62.5 58.3333C61.3194 58.3333 60.3299 57.934 59.5312 57.1354C58.7326 56.3368 58.3333 55.3472 58.3333 54.1667C58.3333 52.9861 58.7326 51.9965 59.5312 51.1979C60.3299 50.3993 61.3194 50 62.5 50C63.6806 50 64.6701 50.3993 65.4687 51.1979C66.2674 51.9965 66.6667 52.9861 66.6667 54.1667C66.6667 55.3472 66.2674 56.3368 65.4687 57.1354C64.6701 57.934 63.6806 58.3333 62.5 58.3333ZM25.1042 51.875C24.6181 44.5139 26.8403 38.1944 31.7708 32.9167C36.7014 27.6389 42.8472 25 50.2083 25C56.3889 25 61.8229 26.9618 66.5104 30.8854C71.1979 34.809 74.0278 39.8264 75 45.9375C68.6806 45.8681 62.8646 44.1667 57.5521 40.8333C52.2396 37.5 48.1597 32.9861 45.3125 27.2917C44.2014 32.8472 41.8576 37.7951 38.2812 42.1354C34.7049 46.4757 30.3125 49.7222 25.1042 51.875Z"
                fill="#59DEFA" />
            </svg>
          </div>
          <div class="feature-text">
            <h3>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</h3>
            <p>–ü–æ–º–æ–∂–µ–º –ø–æ–¥–æ–±—Ä–∞—Ç—å, –æ–±—ä—è—Å–Ω–∏—Ç—å –∏ —Ä–µ—à–∏—Ç—å –ª—é–±—É—é –ø—Ä–æ–±–ª–µ–º—É ‚Äî –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ –Ω—É–∂–Ω–æ.</p>
          </div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M50.2083 83.3333C40.9028 83.3333 32.9861 80.1041 26.4583 73.6458C19.9306 67.1875 16.6667 59.3055 16.6667 50V49.2708L10 55.9375L4.16667 50.1041L20.8333 33.4375L37.5 50.1041L31.6667 55.9375L25 49.2708V50C25 56.9444 27.4479 62.8472 32.3438 67.7083C37.2396 72.5694 43.1944 75 50.2083 75C52.0139 75 53.7847 74.7916 55.5208 74.375C57.2569 73.9583 58.9583 73.3333 60.625 72.5L66.875 78.75C64.2361 80.2777 61.5278 81.4236 58.75 82.1875C55.9722 82.9513 53.125 83.3333 50.2083 83.3333ZM79.1667 66.5625L62.5 49.8958L68.3333 44.0625L75 50.7291V50C75 43.0555 72.5521 37.1527 67.6563 32.2916C62.7604 27.4305 56.8056 25 49.7917 25C47.9861 25 46.2153 25.2083 44.4792 25.625C42.7431 26.0416 41.0417 26.6666 39.375 27.5L33.125 21.25C35.7639 19.7222 38.4722 18.5763 41.25 17.8125C44.0278 17.0486 46.875 16.6666 49.7917 16.6666C59.0972 16.6666 67.0139 19.8958 73.5417 26.3541C80.0695 32.8125 83.3333 40.6944 83.3333 50V50.7291L90 44.0625L95.8333 49.8958L79.1667 66.5625Z"
                fill="#59DEFA" />
            </svg>
          </div>
          <div class="feature-text">
            <h3>Trade-In</h3>
            <p>–ü—Ä–∏–Ω–∏–º–∞–µ–º —Å—Ç–∞—Ä–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –ø–æ —Ö–æ—Ä–æ—à–µ–π —Ü–µ–Ω–µ ‚Äî –æ–±–Ω–æ–≤–∏—Ç–µ—Å—å –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞—Ç—Ä–∞—Ç!</p>
          </div>
        </div>
      </div>
    </section>

    <!-- –ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å -->
    <section class="features">
      <h2>–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M25 105C22.25 105 19.8958 104.021 17.9375 102.062C15.9792 100.104 15 97.75 15 95V15H25V95H105V105H25ZM30 90V45H50V90H30ZM55 90V20H75V90H55ZM80 90V65H100V90H80Z"
                fill="#59DEFA" />
            </svg>
          </div>
          <div class="feature-text">
            <h3>–ì–ª—É–±–æ–∫–æ –ø–æ–Ω–∏–º–∞–µ–º —Ä—ã–Ω–æ–∫ VR</h3>
            <p>–û–±–ª–∞–¥–∞–µ–º –≥–ª—É–±–æ–∫–∏–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ –æ —Ä—ã–Ω–∫–µ VR –∏ –ø–æ–º–æ–≥–∞–µ–º –æ—Ç–ª–∏—á–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –æ—Ç –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤.
            </p>
          </div>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M59.375 100C59.7083 100 60.0417 99.9167 60.375 99.75C60.7083 99.5833 60.9583 99.4167 61.125 99.25L102.125 58.25C103.125 57.25 103.854 56.125 104.313 54.875C104.771 53.625 105 52.375 105 51.125C105 49.7917 104.771 48.5208 104.313 47.3125C103.854 46.1042 103.125 45.0417 102.125 44.125L80.875 22.875C79.9584 21.875 78.8959 21.1458 77.6875 20.6875C76.4792 20.2292 75.2084 20 73.875 20C72.625 20 71.375 20.2292 70.125 20.6875C68.875 21.1458 67.75 21.875 66.75 22.875L65.375 24.25L74.625 33.625C75.875 34.7917 76.7917 36.125 77.375 37.625C77.9584 39.125 78.25 40.7083 78.25 42.375C78.25 45.875 77.0625 48.8125 74.6875 51.1875C72.3125 53.5625 69.375 54.75 65.875 54.75C64.2083 54.75 62.6042 54.4583 61.0625 53.875C59.5208 53.2917 58.1667 52.4167 57 51.25L47.625 42L25.75 63.875C25.5 64.125 25.3125 64.3958 25.1875 64.6875C25.0625 64.9792 25 65.2917 25 65.625C25 66.2917 25.25 66.8958 25.75 67.4375C26.25 67.9792 26.8333 68.25 27.5 68.25C27.8333 68.25 28.1667 68.1667 28.5 68C28.8333 67.8333 29.0833 67.6667 29.25 67.5L46.25 50.5L53.25 57.5L36.375 74.5C36.125 74.75 35.9375 75.0208 35.8125 75.3125C35.6875 75.6042 35.625 75.9167 35.625 76.25C35.625 76.9167 35.875 77.5 36.375 78C36.875 78.5 37.4583 78.75 38.125 78.75C38.4583 78.75 38.7917 78.6667 39.125 78.5C39.4583 78.3333 39.7083 78.1667 39.875 78L56.875 61.125L63.875 68.125L47 85.125C46.75 85.2917 46.5625 85.5417 46.4375 85.875C46.3125 86.2083 46.25 86.5417 46.25 86.875C46.25 87.5417 46.5 88.125 47 88.625C47.5 89.125 48.0833 89.375 48.75 89.375C49.0833 89.375 49.3958 89.3125 49.6875 89.1875C49.9792 89.0625 50.25 88.875 50.5 88.625L67.5 71.75L74.5 78.75L57.5 95.75C57.25 96 57.0625 96.2708 56.9375 96.5625C56.8125 96.8542 56.75 97.1667 56.75 97.5C56.75 98.1667 57.0208 98.75 57.5625 99.25C58.1042 99.75 58.7083 100 59.375 100ZM59.25 110C56.1667 110 53.4375 108.979 51.0625 106.938C48.6875 104.896 47.2917 102.333 46.875 99.25C44.0417 98.8333 41.6667 97.6667 39.75 95.75C37.8333 93.8333 36.6667 91.4583 36.25 88.625C33.4167 88.2083 31.0625 87.0208 29.1875 85.0625C27.3125 83.1042 26.1667 80.75 25.75 78C22.5833 77.5833 20 76.2083 18 73.875C16 71.5417 15 68.7917 15 65.625C15 63.9583 15.3125 62.3542 15.9375 60.8125C16.5625 59.2708 17.4583 57.9167 18.625 56.75L47.625 27.875L64 44.25C64.1667 44.5 64.4167 44.6875 64.75 44.8125C65.0833 44.9375 65.4167 45 65.75 45C66.5 45 67.125 44.7708 67.625 44.3125C68.125 43.8542 68.375 43.25 68.375 42.5C68.375 42.1667 68.3125 41.8333 68.1875 41.5C68.0625 41.1667 67.875 40.9167 67.625 40.75L49.75 22.875C48.8333 21.875 47.7708 21.1458 46.5625 20.6875C45.3542 20.2292 44.0833 20 42.75 20C41.5 20 40.25 20.2292 39 20.6875C37.75 21.1458 36.625 21.875 35.625 22.875L18 40.625C17.25 41.375 16.625 42.25 16.125 43.25C15.625 44.25 15.2917 45.25 15.125 46.25C14.9583 47.25 14.9583 48.2708 15.125 49.3125C15.2917 50.3542 15.625 51.3333 16.125 52.25L8.87501 59.5C7.45835 57.5833 6.41668 55.4792 5.75001 53.1875C5.08335 50.8958 4.83335 48.5833 5.00001 46.25C5.16668 43.9167 5.75001 41.6458 6.75001 39.4375C7.75001 37.2292 9.12501 35.25 10.875 33.5L28.5 15.875C30.5 13.9583 32.7292 12.5 35.1875 11.5C37.6458 10.5 40.1667 10 42.75 10C45.3333 10 47.8542 10.5 50.3125 11.5C52.7708 12.5 54.9583 13.9583 56.875 15.875L58.25 17.25L59.625 15.875C61.625 13.9583 63.8542 12.5 66.3125 11.5C68.7708 10.5 71.2917 10 73.875 10C76.4584 10 78.9792 10.5 81.4375 11.5C83.8959 12.5 86.0834 13.9583 88 15.875L109.125 37C111.042 38.9167 112.5 41.125 113.5 43.625C114.5 46.125 115 48.6667 115 51.25C115 53.8333 114.5 56.3542 113.5 58.8125C112.5 61.2708 111.042 63.4583 109.125 65.375L68.125 106.25C66.9583 107.417 65.6042 108.333 64.0625 109C62.5208 109.667 60.9167 110 59.25 110Z"
                fill="#59DEFA" />
            </svg>
          </div>

          <div class="feature-text">

            <h3>–ü–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å —É—Å–ª—É–≥</h3>
            <p>–ë–µ—Ä—ë–º –Ω–∞ —Å–µ–±—è –≤—Å–µ —ç—Ç–∞–ø—ã: –æ—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –¥–æ –∑–∞–ø—É—Å–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.</p>
          </div>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M35 100C30.8333 100 27.2917 98.5417 24.375 95.625C21.4583 92.7083 20 89.1667 20 85H7.5L9.75 75H23.875C25.2917 73.4167 26.9583 72.1875 28.875 71.3125C30.7917 70.4375 32.8333 70 35 70C37.1667 70 39.2083 70.4375 41.125 71.3125C43.0417 72.1875 44.7083 73.4167 46.125 75H67L77.5 30H22.75L23.25 27.875C23.75 25.5417 24.8958 23.6458 26.6875 22.1875C28.4792 20.7292 30.5833 20 33 20H90L85.375 40H100L115 60L110 85H100C100 89.1667 98.5417 92.7083 95.625 95.625C92.7083 98.5417 89.1667 100 85 100C80.8333 100 77.2917 98.5417 74.375 95.625C71.4583 92.7083 70 89.1667 70 85H50C50 89.1667 48.5417 92.7083 45.625 95.625C42.7083 98.5417 39.1667 100 35 100ZM79.625 65H103.75L104.25 62.375L95 50H83.125L79.625 65ZM77.25 30.875L77.5 30L67 75L67.25 74.125L71.5 55.875L77.25 30.875ZM2.5 66.625L5 56.625H32.5L30 66.625H2.5ZM12.5 48.375L15 38.375H47.5L45 48.375H12.5ZM35 90C36.4167 90 37.6042 89.5208 38.5625 88.5625C39.5208 87.6042 40 86.4167 40 85C40 83.5833 39.5208 82.3958 38.5625 81.4375C37.6042 80.4792 36.4167 80 35 80C33.5833 80 32.3958 80.4792 31.4375 81.4375C30.4792 82.3958 30 83.5833 30 85C30 86.4167 30.4792 87.6042 31.4375 88.5625C32.3958 89.5208 33.5833 90 35 90ZM85 90C86.4167 90 87.6042 89.5208 88.5625 88.5625C89.5208 87.6042 90 86.4167 90 85C90 83.5833 89.5208 82.3958 88.5625 81.4375C87.6042 80.4792 86.4167 80 85 80C83.5833 80 82.3958 80.4792 81.4375 81.4375C80.4792 82.3958 80 83.5833 80 85C80 86.4167 80.4792 87.6042 81.4375 88.5625C82.3958 89.5208 83.5833 90 85 90Z"
                fill="#59DEFA" />
            </svg>
          </div>
          <div class="feature-text">
            <h3>–†–∞–±–æ—Ç–∞–µ–º –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏</h3>
            <p>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –≤ –ª—é–±–æ–π —Ä–µ–≥–∏–æ–Ω.</p>
          </div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M35 85H70V75H35V85ZM35 65H85V55H35V65ZM35 45H85V35H35V45ZM25 105C22.25 105 19.8958 104.021 17.9375 102.062C15.9792 100.104 15 97.75 15 95V25C15 22.25 15.9792 19.8958 17.9375 17.9375C19.8958 15.9792 22.25 15 25 15H95C97.75 15 100.104 15.9792 102.062 17.9375C104.021 19.8958 105 22.25 105 25V95C105 97.75 104.021 100.104 102.062 102.062C100.104 104.021 97.75 105 95 105H25ZM25 95H95V25H25V95Z"
                fill="#59DEFA" />
            </svg>
          </div>
          <div class="feature-text">

            <h3>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –∏ –Ω–∞–¥—ë–∂–Ω–æ</h3>
            <p>–í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω–æ, —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –∏ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- VR-–∞—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω—ã –ø–æ–¥ –∫–ª—é—á -->
    <section class="cta">
      <div class="cta-content">
        <h2>VR-–∞—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω—ã –ø–æ–¥ –∫–ª—é—á</h2>
        <p>–°–æ—á–Ω—ã–µ —Ü–µ–Ω—ã. –ù–∏–∫–∞–∫–æ–π –≥–æ–ª–æ–≤–Ω–æ–π –±–æ–ª–∏.</p>
        <div>
          <p>–ê—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω—ã –æ—Ç 1 –¥–æ 4 –∏–≥—Ä–æ–∫–æ–≤</p>
          <p>–î–æ—Å—Ç–∞–≤–∫–∞, –ø–æ—à–ª–∏–Ω—ã, –ù–î–° –≤–∫–ª—é—á–µ–Ω—ã –≤ —Ü–µ–Ω—É</p>
          <p>–ì–æ—Ç–æ–≤–∏–º –≤—Å–µ –Ω—É–∂–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</p>
          <p>–¶–µ–Ω—ã –≤ —Å—Ä–µ–¥–Ω–µ–º –Ω–∏–∂–µ –Ω–∞ 20% —á–µ–º —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤</p>
        </div>
        <a href="contact.html" class="btn-primary">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</a>
      </div>
    </section>

    <!-- Trade-In –±–ª–æ–∫ -->
    <section class="trade-in">
      <h2>Trade-In VR-–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h2>
      <p>–û–±–Ω–æ–≤–∏—Ç–µ—Å—å –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞—Ç—Ä–∞—Ç! –û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É ‚Äî –º—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º —Ç–æ—á–Ω—ã–π —Ä–∞—Å—á—ë—Ç –∑–∞ 1 –¥–µ–Ω—å.</p>
      <div class="trade-in-steps">
        <p data-step="1">–°–Ω–∞—á–∞–ª–∞ –ø—Ä–∏—Å—ã–ª–∞–µ–º –≤–∞–º –Ω–æ–≤–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</p>
        <p data-step="2">–ö–æ–≥–¥–∞ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –≤—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ —Å—Ç–∞—Ä–æ–µ</p>
        <p data-step="3">–û–ø–ª–∞—á–∏–≤–∞–µ—Ç–µ —Ç–æ–ª—å–∫–æ —Ä–∞–∑–Ω–∏—Ü—É. –ù–∏–∫–∞–∫–∏—Ö —Å—é—Ä–ø—Ä–∏–∑–æ–≤</p>
      </div>
      <a href="contact.html" class="btn btn-primary">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</a>
    </section>

    <!-- –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã -->
    <section class="features">
      <h2>–û–¢–í–ï–¢–´ –ù–ê –ü–û–ü–£–õ–Ø–†–ù–´–ï –í–û–ü–†–û–°–´</h2>
      <div class="features-grid">
        <div class="feature-card">
          <h3>–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –¥–æ—Å—Ç–∞–≤–∫–∞?</h3>
          <p>–î–æ—Å—Ç–∞–≤–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–ª–∞—Ç, –∫—Ä–æ–º–µ –∫–∞–∫ –∑–∞ —Ç–æ–≤–∞—Ä, –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ.</p>
        </div>
        <div class="feature-card">
          <h3>–ó–∞–∫–ª—é—á–∞–µ—Ç—Å—è –ª–∏ –¥–æ–≥–æ–≤–æ—Ä?</h3>
          <p>–î–∞, –∑–∞–∫–ª—é—á–∞–µ–º –¥–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏. –£ –Ω–∞—Å –≤—Å—ë –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ!</p>
        </div>
        <div class="feature-card">
          <h3>–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞?</h3>
          <p>–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø–æ–¥–±–æ—Ä, —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ. –í—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –æ–¥–Ω–∏–º –∑–∞–∫–∞–∑–æ–º.</p>
        </div>
        <div class="feature-card">
          <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M50 91.6666C40.3472 89.236 32.3785 83.6978 26.0938 75.052C19.809 66.4062 16.6667 56.8055 16.6667 46.2499V20.8333L50 8.33325L83.3333 20.8333V46.2499C83.3333 56.8055 80.191 66.4062 73.9063 75.052C67.6215 83.6978 59.6528 89.236 50 91.6666ZM50 82.9166C57.2222 80.6249 63.1945 76.0416 67.9167 69.1666C72.6389 62.2916 75 54.6527 75 46.2499V26.5624L50 17.1874L25 26.5624V46.2499C25 54.6527 27.3611 62.2916 32.0833 69.1666C36.8056 76.0416 42.7778 80.6249 50 82.9166Z"
              fill="#59DEFA" />
          </svg>
          <h3>–£—Å–ª–æ–≤–∏—è –≥–∞—Ä–∞–Ω—Ç–∏–∏?</h3>
          <p>–ì–∞—Ä–∞–Ω—Ç–∏—è –¥–æ 12 –º–µ—Å—è—Ü–µ–≤ + –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞.</p>
        </div>
      </div>
    </section>

    <!-- –ö–ª–∏–µ–Ω—Ç—ã -->
    <section class="clients">
      <h2>–ü–æ—Å—Ç–∞–≤–ª—è–ª–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ —Ç–∞–∫–∏–º –∫–ª—É–±–∞–º, –∫–∞–∫:</h2>
      <div>
        <img src="/assets/clients/vrparty.png" alt="VR Party" style="height: 50px; opacity: 0.8;">
        <img src="/assets/clients/avatar.png" alt="AVATAR" style="height: 50px; opacity: 0.8;">
        <img src="/assets/clients/arena.png" alt="ARENA" style="height: 50px; opacity: 0.8;">
      </div>
    </section>

    <!-- –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é -->
    <section class="cta">
      <div class="cta-content">
        <h2>–ù–∞—à –ø–æ–¥—Ö–æ–¥ ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–æ—Ç–≥—Ä—É–∑–∫–∞ —Ç–µ—Ö–Ω–∏–∫–∏¬ª</h2>
        <p>–≠—Ç–æ –≤—ã—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π, —Å–µ—Ä–≤–∏—Å–æ–º –∏ –¥–æ–≤–µ—Ä–∏–µ–º.</p>
        <a href="contact.html" class="btn-primary">–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</a>
      </div>
    </section>

  </main>

  <!-- –ü–æ–¥–≤–∞–ª -->
  <footer role="contentinfo">
    ¬© <span id="year"></span> BIZON ‚Äî –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã<br>
    –ü–æ—Å—Ç–∞–≤–∫–∞ VR-–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–ª—É–±–æ–≤ –ø–æ–¥ –∫–ª—é—á
  </footer>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->

  <script defer src="js/state.js"></script>
  <script>
    // –ì–æ–¥ –≤ –ø–æ–¥–≤–∞–ª–µ
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <script defer src="js/main.js"></script>
</body>
.main-nav {
  display: flex;
  justify-content: left;
  flex: 1;
}

.nav-list {
  display: flex;
  list-style: none;
  margin: 0;
  padding: 0;

  flex-wrap: nowrap; /* –ó–∞–ø—Ä–µ—â–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å */
}

.nav-list a {
  color: #fff;
  text-decoration: none;
  padding: 10px 10px;
  border-radius: 6px;
  font-weight: 500;
  font-size: 15px;
flex-wrap: nowrap; /* –ó–∞–ø—Ä–µ—â–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å */
  opacity: 0.9;
  flex-shrink: 0; /* –ó–∞–ø—Ä–µ—â–∞–µ–º —Å–∂–∞—Ç–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
}



.nav-list a.active {
  background: #3b82f6;
  opacity: 1;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
}

</html>  –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è 